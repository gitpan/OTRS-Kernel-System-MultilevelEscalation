<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>MultilevelEscalation</Name>
    <Version>1.0.1</Version>
    <Vendor>OTRS AG</Vendor>
    <URL>http://otrs.org/</URL>
    <License>GNU AFFERO GENERAL PUBLIC LICENSE Version 3, November 2007</License>
    <Description Lang="en">The OTRS::AdminESCL and OTRS::Escalation Core package.</Description>
    <Description Lang="de">Das OTRS::AdminESCL and OTRS::Escalation Core Paket.</Description>
    <Framework>3.x.x</Framework>
    <IntroInstall Lang="en" Title="Install Information" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;WELCOME&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        You are about to install the OTRS package AdminESCL.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;strong&gt;ATTENTION&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
	&lt;strong&gt;REQUIRED OTRS PACKAGES 3.x.x&lt;/strong&gt;
        &lt;br/&gt;
        Make sure your database accepts packages over 5 MB in size. A MySQL database for example accepts packages up to 1 MB by default. In this case, the value for max_allowed_packet must be increased. The recommended maximum size accepted is 20 MB.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroInstall>
    <IntroInstall Lang="de" Title="Installation Information" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;WILLKOMMEN&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Sie sind im Begriff das OTRS-Paket AdminESCL zu installieren.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;strong&gt;BENÖTIGTE OTRS-PAKETE 3.x.x&lt;/strong&gt;
        &lt;br/&gt;
        &lt;strong&gt;ACHTUNG&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Vergewissern Sie sich, dass ihre Datenbank Pakete mit einer Größe von mehr als 5 MB akzeptiert. Eine MySQL Datenbank akzeptiert beispielsweise standardmäßig Pakete mit einer Größe von maximal 1 MB. In diesem Fall muss der Wert für max_allowed_packet erhöht werden. Empfohlen werden 20 MB.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroInstall>
    <IntroInstall Lang="es" Title="Información de Instalación" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;BIENVENIDO&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Usted está apunto de instalar el modulo AdminESCL de OTRS.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;strong&gt;PAQUETES REQUERIDOS 3.x.x&lt;/strong&gt;
        &lt;br/&gt;
        &lt;strong&gt;ATENCIÓN&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Por favor asegúrese que su base de datos acepte paquetes de mas de 5 MB de tamaño. Por ejemplo una base de datos de MySQL acepta paquetes de mas de 1 MB predefinido. En este caso la configuración max_allowed_packet debe ser incrementada. El tamaño recomendado es 20 MB.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroInstall>
    <IntroInstall Lang="en" Title="Installation Information" Type="post">

        &lt;br/&gt;
        &lt;strong&gt;NOTICE&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        In order to grant users access to the escalation mail, you need to add user's role to Escalation Matrix.&lt;br/&gt;
	A new Agent Notifications Item 'Agent::EscalationMatrix' will be added to manage the template for Notification mail.&lt;br/&gt;
	One need to scheduled a job for the escalation.pl under the path /&lt;OTRS_CONFIG_ScriptAlias&gt;bin.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroInstall>
    <IntroInstall Lang="de" Title="Installation Information" Type="post">

        &lt;br/&gt;
        &lt;strong&gt;HINWEIS&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        In order to grant users access to the escalation mail, you need to add user's role to Escalation Matrix.&lt;br/&gt;
	A new Agent Notifications Item 'Agent::EscalationMatrix' will be added to manage the template for Notification mail.&lt;br/&gt;
	One need to scheduled a job for the escalation.pl under the path /&lt;OTRS_CONFIG_ScriptAlias&gt;bin.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroInstall>
    <IntroInstall Lang="es" Title="Información de Instalación" Type="post">

        &lt;br/&gt;
        &lt;strong&gt;AVISO&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        In order to grant users access to the escalation mail, you need to add user's role to Escalation Matrix.&lt;br/&gt;
	A new Agent Notifications Item 'Agent::EscalationMatrix' will be added to manage the template for Notification mail.&lt;br/&gt;
	One need to scheduled a job for the escalation.pl under the path /&lt;OTRS_CONFIG_ScriptAlias&gt;bin.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroInstall>
    <IntroUninstall Lang="en" Title="Uninstallation Information" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;ATTENTION&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        If you uninstall this package, all database tables that were created during installation will be DELETED.
        All data from these tables will be irrevocably lost!
        &lt;br/&gt;
        &lt;br/&gt;
        The block 'Ticket - Escalation Matrix' that was created during package installation will be removed.
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroUninstall>
    <IntroUninstall Lang="de" Title="Uninstallation Information" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;ACHTUNG&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Bei der Deinstallation werden die von diesem Paket angelegten Datenbank-Tabellen gelöscht.
        Alle darin enthaltenen Daten gehen unwiderruflich verloren!
        &lt;br/&gt;
        &lt;br/&gt;
        Die von diesem Paket angelegte Gruppe 'Ticket - Escalation Matrix' wird deaktiviert.
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroUninstall>
    <IntroUninstall Lang="es" Title="Información de Desinstalación" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;ATENCIÓN&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Si usted desinstala este paquete, todas las tablas de la base de datos creadas durante la instalación serán borradas.
        ¡Todos los datos de esas tablas serán irrevocablemente perdidos!.
        &lt;br/&gt;
        &lt;br/&gt;
        El blok 'Ticket - Escalation Matrix' que fue creado durante la instalación será desactivado.
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroUninstall>
    <IntroUpgrade Lang="en" Title="Upgrade Information" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;WELCOME&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        You are about to upgrade the OTRS package AdminESCL.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;/strong&gt;ATTENTION&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
	&lt;strong&gt;REQUIRED OTRS PACKAGES&lt;/strong&gt;
        &lt;br/&gt;
	Make sure your database accepts packages over 5 MB in size. A MySQL database for example accepts packages up to 1 MB by default. In this case, the value for max_allowed_packet must be increased. The recommended maximum size accepted is 20 MB.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroUpgrade>
    <IntroUpgrade Lang="de" Title="Upgrade Information" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;WILLKOMMEN&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Sie sind im Begriff das OTRS-Paket AdminESCL zu aktualisieren.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;strong&gt;ACHTUNG&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
	&lt;strong&gt;BENÖTIGTE OTRS-PAKETE&lt;/strong&gt;
        &lt;br/&gt;
	&lt;br/&gt;
        Vergewissern Sie sich, dass ihre Datenbank Pakete mit einer Größe von mehr als 5 MB akzeptiert. Eine MySQL Datenbank akzeptiert beispielsweise standardmäßig Pakete mit einer Größe von maximal 1 MB. In diesem Fall muss der Wert für max_allowed_packet erhöht werden. Empfohlen werden 20 MB.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroUpgrade>
    <IntroUpgrade Lang="es" Title="Información de Actualización" Type="pre">

        &lt;br/&gt;
        &lt;strong&gt;BIENVENIDO&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Usted está apunto de instalar el modulo AdminESCL de OTRS.&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;
	&lt;strong&gt;ATENCIÓN&lt;/strong&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        &lt;strong&gt;PAQUETES REQUERIDOS&lt;/strong&gt;
        &lt;br/&gt;
        Por favor asegúrese que su base de datos acepte paquetes de mas de 5 MB de tamaño. Por ejemplo una base de datos de MySQL acepta paquetes de mas de 1 MB predefinido. En este caso la configuración max_allowed_packet debe ser incrementada. El tamaño recomendado es 20 MB.&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        Thank You&lt;br/&gt;
	&lt;br/&gt;
        &lt;br/&gt;

    </IntroUpgrade>
    <PackageRequired Version="3.x.x">ITSMCore</PackageRequired>
    <CodeInstall Type="post">
     
        # define function name
        my $FunctionName = 'CodeInstall';

        # create the package name
        my $CodeModule = 'var::packagesetup::' . $Param{Structure}-&gt;{Name}-&gt;{Content};

        # load the module
        if ( $Self-&gt;{MainObject}-&gt;Require($CodeModule) ) {

            # create new instance
            my $CodeObject = $CodeModule-&gt;new( %{$Self} );
		
		if ($CodeObject) {
				
			# start methode	
			my $QueryCheckPrimKey = $Self-&gt;{DBObject}-&gt;Do(
                            SQL =&gt; 'ALTER TABLE escalation ADD PRIMARY KEY(sla_id,notify_type,level)',
                        );
			if ($QueryCheckPrimKey) {
				if ( !$CodeObject-&gt;$FunctionName(%{$Self}) ) {
					$Self-&gt;{LogObject}-&gt;Log(
					     Priority =&gt; 'error',
					     Message  =&gt; &quot;Could not call method $FunctionName() on $CodeModule.pm.&quot;
					);
				}
			}
			
			
			
			my $QueryCheckNotifications = 'SELECT id FROM notifications WHERE notification_type LIKE &quot;Agent::EscalationMatrix&quot;';
			my $QueryDel = 'DELETE FROM notifications WHERE notification_type LIKE &quot;Agent::EscalationMatrix&quot;';
			$Self-&gt;{DBObject}-&gt;Prepare( SQL =&gt; $QueryCheckNotifications );
			my @NotificationsFields = $Self-&gt;{DBObject}-&gt;FetchrowArray();
			if($NotificationsFields[0]) {
				my $QueryDelete = $Self-&gt;{DBObject}-&gt;Do(
				    SQL =&gt; $QueryDel,
				);
			}
			
			
			
			my $Type = &quot;Agent::EscalationMatrix&quot;;
			my $Charset = &quot;utf-8&quot;;
			my $Lang = &quot;en&quot;;
			my $Sub = &quot;Ticket Escalation Before &lt;OTRS_CUSTOMER_EMAIL[30]&gt;! (&lt;OTRS_CUSTOMER_SUBJECT[24]&gt;)&quot;;
			my $CreateTime = $Self-&gt;{TimeObject}-&gt;SystemTime2TimeStamp( SystemTime =&gt; $Self-&gt;{TimeObject}-&gt;SystemTime());
			my $Txt = &quot;Hi &lt;OTRS_UserFirstname&gt; &lt;OTRS_UserLastname&gt;,   
				
				Ticket [&lt;OTRS_TICKET_TicketNumber&gt;] has breached: &lt;OTRS_CUSTOMER_EMAIL[30]&gt;.    
				
				Ticket Owner             :  &lt;OTRS_OWNER_UserFirstname&gt; &lt;OTRS_OWNER_UserLastname&gt;.    
				
				Ticket Queue            :  &lt;OTRS_CUSTOMER_QUEUE&gt;.    
				
				Ticket Priority            :  &lt;OTRS_TICKET_Priority&gt;.    
				
				Ticket SLA                 :  &lt;OTRS_TICKET_SLA&gt;.      
				
				Please have a look:
				
				&lt;OTRS_CONFIG_HttpType&gt;://&lt;OTRS_CONFIG_FQDN&gt;/&lt;OTRS_CONFIG_ScriptAlias&gt;index.pl?Action=AgentZoom;TicketID=&lt;OTRS_TICKET_TicketID&gt;      
				
				
				Regards  
				OTRS Admin&quot;;
			
			
			
			my $QueryNotificationsAlter_en = $Self-&gt;{DBObject}-&gt;Do(
			SQL =&gt; &quot;INSERT INTO notifications
			(notification_type, notification_charset, notification_language, subject, text, content_type, create_by, create_time, change_by, change_time)
			VALUES (?, ?, ?, ?, ?, 'text/plain', 1, ?, 1, ?)&quot;,
			Bind =&gt; [\$Type, \$Charset, \$Lang, \$Sub, \$Txt, \$CreateTime, \$CreateTime,],
			);
				
			if (!$QueryNotificationsAlter_en) {
				
				$Self-&gt;{LogObject}-&gt;Log(
				    Priority =&gt; 'error',
				    Message  =&gt; &quot;Could not insert value for Notifications for 'en' on $CodeModule.pm.&quot;
				);
				
			}
			
			my $Lang_de = &quot;de&quot;;
			my $Sub_de = &quot;Ticket Eskalation Before &lt;OTRS_CUSTOMER_EMAIL[30]&gt;! (&lt;OTRS_CUSTOMER_SUBJECT[24]&gt;)&quot;;
			my $Txt_de = &quot;Hallo &lt;OTRS_UserFirstname&gt; &lt;OTRS_UserLastname&gt;,
				
				das Ticket [&lt;OTRS_TICKET_TicketNumber&gt;] ist eskaliert (has breached in english): &lt;OTRS_CUSTOMER_EMAIL[30]&gt;.    
				
				Ticket Owner             :  &lt;OTRS_OWNER_UserFirstname&gt; &lt;OTRS_OWNER_UserLastname&gt;.    
				
				Ticket Queue            :  &lt;OTRS_CUSTOMER_QUEUE&gt;.    
				
				Ticket Priority            :  &lt;OTRS_TICKET_Priority&gt;.    
				
				Ticket SLA                 :  &lt;OTRS_TICKET_SLA&gt;.      
				
				Bitte um Bearbeitung:
				
				&lt;OTRS_CONFIG_HttpType&gt;://&lt;OTRS_CONFIG_FQDN&gt;/&lt;OTRS_CONFIG_ScriptAlias&gt;index.pl?Action=AgentZoom;TicketID=&lt;OTRS_TICKET_TicketID&gt;      
				
				
				wat betreft
				OTRS Admin&quot;;
			
			my $QueryNotificationsAlter_de = $Self-&gt;{DBObject}-&gt;Do(
			SQL =&gt; &quot;INSERT INTO notifications
			(notification_type, notification_charset, notification_language, subject, text, content_type, create_by, create_time, change_by, change_time)
			VALUES (?, ?, ?, ?, ?, 'text/plain', 1, ?, 1, ?)&quot;,
			Bind =&gt; [\$Type, \$Charset, \$Lang_de, \$Sub_de, \$Txt_de, \$CreateTime, \$CreateTime,],
			);
				
			if (!$QueryNotificationsAlter_de) {
				
				$Self-&gt;{LogObject}-&gt;Log(
				    Priority =&gt; 'error',
				    Message  =&gt; &quot;Could not insert value for Notifications for 'en' on $CodeModule.pm.&quot;
				);
				
			}
			
			
			my $Lang_nl = &quot;nl&quot;;
			my $Sub_nl = &quot;Ticket Escalatie Before &lt;OTRS_CUSTOMER_EMAIL[30]&gt;! (&lt;OTRS_CUSTOMER_SUBJECT[24]&gt;)&quot;;
			my $Txt_nl = &quot;Beste &lt;OTRS_UserFirstname&gt; &lt;OTRS_UserLastname&gt;,
				
				Het ticket [&lt;OTRS_TICKET_TicketNumber&gt;] is geëscaleerd (has breached in english): &lt;OTRS_CUSTOMER_EMAIL[30]&gt;.
				
				
				Ticket Owner             :  &lt;OTRS_OWNER_UserFirstname&gt; &lt;OTRS_OWNER_UserLastname&gt;.    
				
				Ticket Queue            :  &lt;OTRS_CUSTOMER_QUEUE&gt;.    
				
				Ticket Priority            :  &lt;OTRS_TICKET_Priority&gt;.    
				
				Ticket SLA                 :  &lt;OTRS_TICKET_SLA&gt;. 
				
				
				(eerste 30 regels zijn weergegeven)
				
				&lt;OTRS_CONFIG_HttpType&gt;://&lt;OTRS_CONFIG_FQDN&gt;/&lt;OTRS_CONFIG_ScriptAlias&gt;index.pl?Action=AgentZoom;TicketID=&lt;OTRS_TICKET_TicketID&gt;      
				
				
				wat betreft 
				OTRS Admin&quot;;
			
			my $QueryNotificationsAlter_nl = $Self-&gt;{DBObject}-&gt;Do(
			SQL =&gt; &quot;INSERT INTO notifications
			(notification_type, notification_charset, notification_language, subject, text, content_type, create_by, create_time, change_by, change_time)
			VALUES (?, ?, ?, ?, ?, 'text/plain', 1, ?, 1, ?)&quot;,
			Bind =&gt; [\$Type, \$Charset, \$Lang_nl, \$Sub_nl, \$Txt_nl, \$CreateTime, \$CreateTime,],
			);
				
			if (!$QueryNotificationsAlter_nl) {
				
				$Self-&gt;{LogObject}-&gt;Log(
				    Priority =&gt; 'error',
				    Message  =&gt; &quot;Could not insert value for Notifications for 'en' on $CodeModule.pm.&quot;
				);
				
			}
			
			
			
		}
		
		# error handling
		else {
				$Self-&gt;{LogObject}-&gt;Log(
				Priority =&gt; 'error',
				Message  =&gt; &quot;Could not call method new() on $CodeModule.pm.&quot;
				);
		}
	}	

    </CodeInstall>
    <CodeUpgrade Type="post">

        # define function name
        my $FunctionName = 'CodeUpgrade';

        # create the package name
        my $CodeModule = 'var::packagesetup::' . $Param{Structure}-&gt;{Name}-&gt;{Content};

        # The code module has just recently been copied to it's location in the file system.
        # In a persistent Perl environment an old version of the module might still be loaded,
        # as watchdogs like Apache2::Reload haven't had a chance to reload it.
        # So we need to make sure that the new version is being loaded.
        # Kernel::System::Main::Require() checks the relative file path, so we need to remove that from %INC.
        # This is only needed in persistent Perl environment, but does no harm in a CGI environment.
        my $CodeModulePath = $CodeModule;
        $CodeModulePath =~ s/::/\//g;
        $CodeModulePath .= '.pm';
        delete $INC{$CodeModulePath};

        # load the module
        if ( $Self-&gt;{MainObject}-&gt;Require($CodeModule) ) {

            # create new instance
            my $CodeObject = $CodeModule-&gt;new( %{$Self} );

		if ($CodeObject) {

                # start methode
			if ( !$CodeObject-&gt;$FunctionName(%{$Self}) ) {
				$Self-&gt;{LogObject}-&gt;Log(
					Priority =&gt; 'error',
					Message  =&gt; &quot;Could not call method $FunctionName() on $CodeModule.pm.&quot;
				);
			}
		}

		# error handling
		else {
			$Self-&gt;{LogObject}-&gt;Log(
			        Priority =&gt; 'error',
			        Message  =&gt; &quot;Could not call method new() on $CodeModule.pm.&quot;
			);
		}
        }

    </CodeUpgrade>
    <CodeUninstall Type="pre">

        # define function name
        my $FunctionName = 'CodeUninstall';

        # create the package name
        my $CodeModule = 'var::packagesetup::' . $Param{Structure}-&gt;{Name}-&gt;{Content};

        # load the module
        if ( $Self-&gt;{MainObject}-&gt;Require($CodeModule) ) {
		
            # create new instance
            my $CodeObject = $CodeModule-&gt;new( %{$Self} );
		
		if ($CodeObject) {
			
                # start methode
			my $QueryCheckNotifications1 = 'SELECT id FROM notifications WHERE notification_type LIKE &quot;Agent::EscalationMatrix&quot;';
			my $QueryDel1 = 'DELETE FROM notifications WHERE notification_type LIKE &quot;Agent::EscalationMatrix&quot;';
			$Self-&gt;{DBObject}-&gt;Prepare( SQL =&gt; $QueryCheckNotifications1);
			my @NotificationsField1 = $Self-&gt;{DBObject}-&gt;FetchrowArray();
			if($NotificationsField1[0]) {
				
				my $QueryDelete1 = $Self-&gt;{DBObject}-&gt;Do(
					SQL =&gt; $QueryDel1,
				);
			}
			
			if ( !$CodeObject-&gt;$FunctionName(%{$Self}) ) {
				        $Self-&gt;{LogObject}-&gt;Log(
				            Priority =&gt; 'error',
				            Message  =&gt; &quot;Could not call method $FunctionName() on $CodeModule.pm.&quot;
				        );
			}
			
		}
		
		# error handling
		else {
			$Self-&gt;{LogObject}-&gt;Log(
				Priority =&gt; 'error',
				Message  =&gt; &quot;Could not call method new() on $CodeModule.pm.&quot;
			);
		}
        }

    </CodeUninstall>
    <CodeReinstall Type="post">

        # define function name
        my $FunctionName = 'CodeReinstall';

        # create the package name
        my $CodeModule = 'var::packagesetup::' . $Param{Structure}-&gt;{Name}-&gt;{Content};

        # load the module
        if ( $Self-&gt;{MainObject}-&gt;Require($CodeModule) ) {

            # create new instance
            my $CodeObject = $CodeModule-&gt;new( %{$Self} );

		if ($CodeObject) {
		    
		        # start methode
			if ( !$CodeObject-&gt;$FunctionName(%{$Self}) ) {
				$Self-&gt;{LogObject}-&gt;Log(
					Priority =&gt; 'error',
					Message  =&gt; &quot;Could not call method $FunctionName() on $CodeModule.pm.&quot;
				);
			}
		}

		# error handling
		else {
			$Self-&gt;{LogObject}-&gt;Log(
			        Priority =&gt; 'error',
				Message  =&gt; &quot;Could not call method new() on $CodeModule.pm.&quot;
			);
		}
        }

    </CodeReinstall>
    <BuildDate>2013-02-28 14:11:07</BuildDate>
    <BuildHost>1dns8r1.egi.ericsson.com</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/Escalation.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPG90cnNfY29uZmlnIHZlcnNpb249IjEuMCIgaW5pdD0iQXBwbGljYXRpb24iPgogICAgPENWUz4kSWQ6IEVzY2FsYXRpb24ueG1sLHYgMS4wIDIwMTMvMDIvMDQgMTQ6Mzg6NTcgZW5oaSBFeHAgJDwvQ1ZTPgogICAgPENvbmZpZ0l0ZW0gTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0FkbWluRVNDTCIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPlRpY2tldDwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZG1pbjo6TW9kdWxlUmVnaXN0cmF0aW9uPC9TdWJHcm91cD4KICAgICAgICA8U2V0dGluZz4KICAgICAgICAgICAgPEZyb250ZW5kTW9kdWxlUmVnPgogICAgICAgICAgICAgICAgPEdyb3VwPmFkbWluPC9Hcm91cD4KICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvbj5BZG1pbjwvRGVzY3JpcHRpb24+CiAgICAgICAgICAgICAgICA8VGl0bGU+RXNjYWxhdGlvbiBNYXRyaXg8L1RpdGxlPgogICAgICAgICAgICAgICAgPE5hdkJhck5hbWU+QWRtaW48L05hdkJhck5hbWU+CiAgICAgICAgICAgICAgICA8TmF2QmFyTW9kdWxlPgogICAgICAgICAgICAgICAgICAgIDxNb2R1bGU+S2VybmVsOjpPdXRwdXQ6OkhUTUw6Ok5hdkJhck1vZHVsZUFkbWluPC9Nb2R1bGU+CiAgICAgICAgICAgICAgICAgICAgPE5hbWUgVHJhbnNsYXRhYmxlPSIxIj5Fc2NhbGF0aW9uIE1hdHJpeDwvTmFtZT4KICAgICAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5DcmVhdGUgYW5kIG1hbmFnZSBFc2NhbGF0aW9uIE1hdHJpeC48L0Rlc2NyaXB0aW9uPgogICAgICAgICAgICAgICAgICAgIDxCbG9jaz5UaWNrZXQ8L0Jsb2NrPgogICAgICAgICAgICAgICAgICAgIDxQcmlvPjExMDA8L1ByaW8+CiAgICAgICAgICAgICAgICA8L05hdkJhck1vZHVsZT4KICAgICAgICAgICAgPC9Gcm9udGVuZE1vZHVsZVJlZz4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+Cjwvb3Ryc19jb25maWc+</File>
        <File Location="Kernel/Modules/AdminESCL.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FkbWluRVNDTC5wbSAtIGFkbWluIGZyb250ZW5kIHRvIG1hbmFnZSBzbGFzCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTAgT1RSUyBBRywgaHR0cDovL290cnMub3JnLwojIC0tCiMgJElkOiBBZG1pbkVTQ0wucG0sdiAxLjAgMjAxMy8wMi8wNCAxNDozODo1NyBlbiBFeHAgJAojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Ok1vZHVsZXM6OkFkbWluRVNDTDsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6U2VydmljZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpTTEE7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RXNjYWxhdGlvbjsKdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsKCnVzZSBLZXJuZWw6OkNvbmZpZzsKdXNlIEtlcm5lbDo6U3lzdGVtOjpFbmNvZGU7CnVzZSBLZXJuZWw6OlN5c3RlbTo6TG9nOwp1c2UgS2VybmVsOjpTeXN0ZW06Ok1haW47CnVzZSBLZXJuZWw6OlN5c3RlbTo6REI7CnVzZSBLZXJuZWw6OlN5c3RlbTo6R3JvdXA7CgoKIyBjcmVhdGUgY29tbW9uIG9iamVjdHMKbXkgJUNvbW1vbk9iamVjdCA9ICgpOwokQ29tbW9uT2JqZWN0e0NvbmZpZ09iamVjdH0gPSBLZXJuZWw6OkNvbmZpZy0+bmV3KCk7CiRDb21tb25PYmplY3R7RW5jb2RlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpFbmNvZGUtPm5ldyglQ29tbW9uT2JqZWN0KTsKJENvbW1vbk9iamVjdHtMb2dPYmplY3R9ICAgID0gS2VybmVsOjpTeXN0ZW06OkxvZy0+bmV3KAogICAgTG9nUHJlZml4ID0+ICdPVFJTLW90cnMuQWRtaW5FU0NMLnBsJywKICAgICVDb21tb25PYmplY3QsCik7CiRDb21tb25PYmplY3R7TWFpbk9iamVjdH0gICA9IEtlcm5lbDo6U3lzdGVtOjpNYWluLT5uZXcoJUNvbW1vbk9iamVjdCk7CiRDb21tb25PYmplY3R7REJPYmplY3R9ICAgICA9IEtlcm5lbDo6U3lzdGVtOjpEQi0+bmV3KCVDb21tb25PYmplY3QpOwokQ29tbW9uT2JqZWN0e0dyb3VwT2JqZWN0fSAgPSBLZXJuZWw6OlN5c3RlbTo6R3JvdXAtPm5ldyglQ29tbW9uT2JqZWN0KTsKCgoKdXNlIHZhcnMgcXcoJFZFUlNJT04pOwokVkVSU0lPTiA9IHF3KCRSZXZpc2lvbjogMS4wICQpIFsxXTsKCnN1YiBuZXcgewoJbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKCQoJIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CglteSAkU2VsZiA9IHslUGFyYW19OwoJYmxlc3MoICRTZWxmLCAkVHlwZSApOwoJCgkjIGNoZWNrIGFsbCBuZWVkZWQgb2JqZWN0cwoJZm9yIChxdyhQYXJhbU9iamVjdCBEQk9iamVjdCBMYXlvdXRPYmplY3QgQ29uZmlnT2JqZWN0IExvZ09iamVjdCkpIHsKCSAgICBpZiAoICEkU2VsZi0+eyRffSApIHsKCSAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5GYXRhbEVycm9yKCBNZXNzYWdlID0+ICJHb3Qgbm8gJF8hIiApOwoJICAgIH0KCX0KCSNhZGQgc29tZSBuZXcgb2JqZWN0CgkkU2VsZi0+e1NlcnZpY2VPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OlNlcnZpY2UtPm5ldyglUGFyYW0pOwoJJFNlbGYtPntTTEFPYmplY3R9ICAgICA9IEtlcm5lbDo6U3lzdGVtOjpTTEEtPm5ldyglUGFyYW0pOwoJJFNlbGYtPntFU0NMT2JqZWN0fSAgICAgPSBLZXJuZWw6OlN5c3RlbTo6RXNjYWxhdGlvbi0+bmV3KCVQYXJhbSk7CgkkU2VsZi0+e1ZhbGlkT2JqZWN0fSAgID0gS2VybmVsOjpTeXN0ZW06OlZhbGlkLT5uZXcoJVBhcmFtKTsKCQogICAgcmV0dXJuICRTZWxmOwp9CgpzdWIgUnVuIHsKCW15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgkKCW15ICVFcnJvciA9ICgpOwoJCgkjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjCgkjIGVzY2wgZWRpdAoJIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwoJaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0VTQ0xFZGl0JyApIHsKCSAgICAKCSAgICAjIGhlYWRlcgoJICAgIG15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkhlYWRlcigpOwoJICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7CgkgICAgCgkgICAgIyBodG1sIG91dHB1dAoJICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT5fTWFza05ldygKCSAgICAgICAgJVBhcmFtLAoJICAgICAgICApOwoJICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Gb290ZXIoKTsKCSAgICAKICAgICAgICByZXR1cm4gJE91dHB1dDsKCX0KCQoJIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwoJIyBlc2NsIHNhdmUKCSMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKCWVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdFU0NMU2F2ZScgKSB7CgkKCSAgICAjIGNoYWxsZW5nZSB0b2tlbiBjaGVjayBmb3Igd3JpdGUgYWN0aW9uCgkgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5DaGFsbGVuZ2VUb2tlbkNoZWNrKCk7CgkgICAgCgkgICAgIyBnZXQgcGFyYW1zCgkgICAgbXkgJUdldFBlcmM7CgkgICAgbXkgJUdldFBhcmFtOwoJCSNnZXQgUGFyYW0gZGV0YWlscwoJICAgICAgICBmb3IgbXkgJFBhcmFtICgKICAJCSAgICAjcXcoU0xBSUQgTmFtZSBDYWxlbmRhciBGaXJzdFJlc3BvbnNlVGltZSBGaXJzdFJlc3BvbnNlTm90aWZ5IFNvbHV0aW9uVGltZSBTb2x1dGlvbk5vdGlmeSBVcGRhdGVUaW1lIFVwZGF0ZU5vdGlmeSBWYWxpZElEIENvbW1lbnQpCgkJICAgIHF3KFNMQUlEIE5hbWUgQ2FsZW5kYXIgRmlyc3RSZXNwb25zZVRpbWUgRmlyc3RSZXNwb25zZU5vdGlmeSBTb2x1dGlvblRpbWUgU29sdXRpb25Ob3RpZnkgVXBkYXRlVGltZSBVcGRhdGVOb3RpZnkgVmFsaWRJRCBDb21tZW50IFR5cGVJRCBNaW5UaW1lQmV0d2VlbkluY2lkZW50cykKCQkgICAgKSB7CgkJICAgICRHZXRQYXJhbXskUGFyYW19ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAkUGFyYW0gKSB8fCAnJzsKCQl9CgkJICAgIAoJCSNnZXQgUGVyY2VudGFnZSBkZXRhaWxzICAgCgkJZm9yIG15ICRQYXJhbUVzY2wgKAoJICAgICAgICAgICAgICAgcXcoU0xBSUQgTmFtZSBGaXJzdFJlc3BvbnNlUm9sZTEgRmlyc3RSZXNwb25zZU5vdGlmeTEgRmlyc3RSZXNwb25zZVJvbGUyIEZpcnN0UmVzcG9uc2VOb3RpZnkyIEZpcnN0UmVzcG9uc2VSb2xlMyBGaXJzdFJlc3BvbnNlTm90aWZ5MyBVcGRhdGVSb2xlMSBVcGRhdGVOb3RpZnkxIFVwZGF0ZVJvbGUyIFVwZGF0ZU5vdGlmeTIgVXBkYXRlUm9sZTMgVXBkYXRlTm90aWZ5MyBTb2x1dGlvblJvbGUxIFNvbHV0aW9uTm90aWZ5MSBTb2x1dGlvblJvbGUyIFNvbHV0aW9uTm90aWZ5MiBTb2x1dGlvblJvbGUzIFNvbHV0aW9uTm90aWZ5MykKCQkJKSB7CgkgICAgICAgICAgICAkR2V0UGVyY3skUGFyYW1Fc2NsfSA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJFBhcmFtRXNjbCApIHx8ICcnOwoJCX0KCQkKCSAgICAJICAgIAoJICAgIAoJICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCgkgICAgJUVycm9yID0gKCk7CgkgICAgaWYgKCAhJEdldFBhcmFte05hbWV9ICkgewoJICAgICAgICAkRXJyb3J7J05hbWVJbnZhbGlkJ30gPSAnU2VydmVyRXJyb3InOwoJICAgIH0KCSAgICAKCSAgICAjb3BlbihGRiwiPj4vdG1wL2VzY2FsYXRpb24udHh0Iik7ICAKCSAgICAKCSAgICAjIGlmIG5vIGVycm9ycyBvY2N1cnJlZAoJICAgIGlmICggISVFcnJvciApIHsKCQkKCSAgICAgICAgIyBnZXQgc2VydmljZSBpZHMKCSAgICAgICAgbXkgQFNlcnZpY2VJRHMgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0QXJyYXkoIFBhcmFtID0+ICdTZXJ2aWNlSURzJyApOwoJICAgICAgICAkR2V0UGFyYW17U2VydmljZUlEc30gPSBcQFNlcnZpY2VJRHM7CgkJCgkgICAgICAgICMgc2F2ZSB0byBkYXRhYmFzZQoJICAgICAgICBpZiAoICEkR2V0UGFyYW17U0xBSUR9ICkgewoJCSAgICAKCQkgICAgI2lmICggISRHZXRQYXJhbXtTTEFJRH0gKSB7CgkJICAgICAgICAgICAgJEVycm9ye01lc3NhZ2V9ID0gJFNlbGYtPntMb2dPYmplY3R9LT5HZXRMb2dFbnRyeSgKCQkgICAgICAgICAgICBUeXBlID0+ICdFcnJvcicsCgkJICAgICAgICAgICAgV2hhdCA9PiAnTWVzc2FnZScsCgkJICAgICAgICApOwoJCSAgICAjfQoJCX0KCQkjc3RhcnQgb2YgbWFpbiBlbHNlIHBhcnQKCQllbHNlIHsKCQkgICAgCgkJICAgIG15ICRTdWNjZXNzOwoJCSAgICBteSAkdmFsaWRfaWQ7CgkJICAgICAKCQkgICAgIyB1cGRhdGUgZm9yIGRpZmZlcmVudCBzdGFnZSBpLmUgRmlyc3RSZXNwb25zZShGUiksIFVwZGF0ZVRpbWUoVVQpLCBTb2x1dGlvblRpbWUoU1QpCgkJICAgICMjRlIgCgkJCSMjTEVWRUwgMQoJCQkkU3VjY2VzcyA9IDE7CgkJCSR2YWxpZF9pZCA9IDA7CgkJCSAgICAKCQkJICAgIGlmICgkR2V0UGVyY3tGaXJzdFJlc3BvbnNlUm9sZTF9KSB7CgkJCSAgICAgICAgCgkJCSAgICAgICAgaWYgKCRHZXRQZXJje0ZpcnN0UmVzcG9uc2VOb3RpZnkxfSkgewoJCQkgICAgCSR2YWxpZF9pZCA9IDE7CgkJCSAgICAgICAgfQoJCQkgICAgICAgIGVsc2UgewoJCQkgICAgCSRHZXRQZXJje0ZpcnN0UmVzcG9uc2VSb2xlMX0gPSAnJzsKCQkJICAgIAkkR2V0UGVyY3tGaXJzdFJlc3BvbnNlTm90aWZ5MX0gPSAnJzsKCQkJICAgIAkkdmFsaWRfaWQgPSAyOwoJCQkgICAgICAgIH0KCQkJICAgIH0KCQkJICAgIGVsc2UgewoJCQkgICAgICAgICRHZXRQZXJje0ZpcnN0UmVzcG9uc2VSb2xlMX0gPSAnJzsKCQkJICAgICAgICAkR2V0UGVyY3tGaXJzdFJlc3BvbnNlTm90aWZ5MX0gPSAnJzsKCQkJICAgICAgICAkdmFsaWRfaWQgPSAyOwoJCQkgICAgfQoJCQkgICAgCgkJCSAgICB1bmRlZiAkU3VjY2VzczsKCQkJICAgICRTdWNjZXNzID0kU2VsZi0+e0VTQ0xPYmplY3R9LT5FU0NMQWRkKAoJCQkgICAgICAgIFNMQUlEID0+ICRHZXRQZXJje1NMQUlEfSwKCQkJICAgICAgICBMZXZlbCA9PiAxLAoJCQkgICAgICAgIFR5cGUgPT4gJ0ZSJywKCQkJICAgICAgICBWYWxpZElEID0+ICR2YWxpZF9pZCwKCQkJCU5vdGlmeV9UbyA9PiAkR2V0UGVyY3tGaXJzdFJlc3BvbnNlUm9sZTF9LAoJCQkJTm90aWZ5X1BlcmMgPT4gJEdldFBlcmN7Rmlyc3RSZXNwb25zZU5vdGlmeTF9LAoJCQkJCgkJCSAgICApOwoJCQkgICAgCgkJCSAgICBpZiAoICEkU3VjY2VzcyApIHsKCQkJICAgICAgICAkRXJyb3J7TWVzc2FnZX0gPSAkU2VsZi0+e0xvZ09iamVjdH0tPkdldExvZ0VudHJ5KAoJCQkgICAgICAgIFR5cGUgPT4gJ0Vycm9yJywKCQkJICAgICAgICBXaGF0ID0+ICdNZXNzYWdlJywKCQkJICAgICAgICApOwoJCQkgICAgICAgICRTdWNjZXNzID0gMTsgCgkJCSAgICB9CgkJICAgIAoJCQkjI0xFVkVMIDIKCQkJJFN1Y2Nlc3MgPSAxOwoJCQkkdmFsaWRfaWQgPSAwOwoJCQlpZiAoJEdldFBlcmN7Rmlyc3RSZXNwb25zZVJvbGUyfSkgewoJCQkgICAgCgkJCSAgICBpZiAoJEdldFBlcmN7Rmlyc3RSZXNwb25zZU5vdGlmeTJ9KSB7CgkJCSAgICAgICAgJHZhbGlkX2lkID0gMTsKCQkJICAgIH0KCQkJICAgIGVsc2UgewoJCQkgICAgJEdldFBlcmN7Rmlyc3RSZXNwb25zZVJvbGUyfSA9ICcnOwoJCQkgICAgJEdldFBlcmN7Rmlyc3RSZXNwb25zZU5vdGlmeTJ9ID0gJyc7CgkJCSAgICAkdmFsaWRfaWQgPSAyOwoJCQkgICAgfQoJCQl9CgkJCWVsc2UgewoJCQkgICAgJEdldFBlcmN7Rmlyc3RSZXNwb25zZVJvbGUyfSA9ICcnOwoJCQkgICAgJEdldFBlcmN7Rmlyc3RSZXNwb25zZU5vdGlmeTJ9ID0gJyc7CgkJCSAgICAkdmFsaWRfaWQgPSAyOwoJCQl9CgkJCQoJCQl1bmRlZiAkU3VjY2VzczsKCQkJJFN1Y2Nlc3MgPSRTZWxmLT57RVNDTE9iamVjdH0tPkVTQ0xBZGQoCgkJCSAgICBTTEFJRCA9PiAkR2V0UGVyY3tTTEFJRH0sCgkJCSAgICBMZXZlbCA9PiAyLAoJCQkgICAgVHlwZSA9PiAnRlInLAoJCQkgICAgVmFsaWRJRCA9PiAkdmFsaWRfaWQsCgkJCSAgICBOb3RpZnlfVG8gPT4gJEdldFBlcmN7Rmlyc3RSZXNwb25zZVJvbGUyfSwKCQkJICAgIE5vdGlmeV9QZXJjID0+ICRHZXRQZXJje0ZpcnN0UmVzcG9uc2VOb3RpZnkyfSwKCQkJICAgIAoJCQkpOwoJCSAgICAKCQkJaWYgKCAhJFN1Y2Nlc3MgKSB7CgkJCSAgICAkRXJyb3J7TWVzc2FnZX0gPSAkU2VsZi0+e0xvZ09iamVjdH0tPkdldExvZ0VudHJ5KAoJCQkgICAgVHlwZSA9PiAnRXJyb3InLAoJCQkgICAgV2hhdCA9PiAnTWVzc2FnZScsCgkJCSAgICApOwoJCQkgICAgJFN1Y2Nlc3MgPSAxOyAKCQkgICAgICAgIH0KCQkKCQkJIyNMZXZlbCAzCgkJCSRTdWNjZXNzID0gMTsKCQkJJHZhbGlkX2lkID0gMDsKCQkJaWYgKCRHZXRQZXJje0ZpcnN0UmVzcG9uc2VSb2xlM30pIHsKCQkJICAgIAoJCQkgICAgaWYgKCRHZXRQZXJje0ZpcnN0UmVzcG9uc2VOb3RpZnkzfSkgewoJCQkgICAgJHZhbGlkX2lkID0gMTsKCQkJICAgIH0KCQkJICAgIGVsc2UgewoJCQkgICAgICAgICRHZXRQZXJje0ZpcnN0UmVzcG9uc2VSb2xlM30gPSAnJzsKCQkJICAgICAgICAkR2V0UGVyY3tGaXJzdFJlc3BvbnNlTm90aWZ5M30gPSAnJzsKCQkJICAgICAgICAkdmFsaWRfaWQgPSAyOwoJCQkgICAgfQoJCQl9CgkJCWVsc2UgewoJCQkgICAgJEdldFBlcmN7Rmlyc3RSZXNwb25zZVJvbGUzfSA9ICcnOwoJCQkgICAgJEdldFBlcmN7Rmlyc3RSZXNwb25zZU5vdGlmeTN9ID0gJyc7CgkJCSAgICAkdmFsaWRfaWQgPSAyOwoJCQl9CgkJCQoJCQl1bmRlZiAkU3VjY2VzczsKCQkJJFN1Y2Nlc3MgPSRTZWxmLT57RVNDTE9iamVjdH0tPkVTQ0xBZGQoCgkJCSAgICBTTEFJRCA9PiAkR2V0UGVyY3tTTEFJRH0sCgkJCSAgICBMZXZlbCA9PiAzLAoJCQkgICAgVHlwZSA9PiAnRlInLAoJCQkgICAgVmFsaWRJRCA9PiAkdmFsaWRfaWQsCgkJCSAgICBOb3RpZnlfVG8gPT4gJEdldFBlcmN7Rmlyc3RSZXNwb25zZVJvbGUzfSwKCQkJICAgIE5vdGlmeV9QZXJjID0+ICRHZXRQZXJje0ZpcnN0UmVzcG9uc2VOb3RpZnkzfSwKCQkJICAgIAoJCQkpOwoJCQkKCQkgICAgICAgIGlmICggISRTdWNjZXNzICkgewoJCSAgICAgICAgICAgICRFcnJvcntNZXNzYWdlfSA9ICRTZWxmLT57TG9nT2JqZWN0fS0+R2V0TG9nRW50cnkoCgkJICAgICAgICAgICAgVHlwZSA9PiAnRXJyb3InLAoJCSAgICAgICAgICAgIFdoYXQgPT4gJ01lc3NhZ2UnLAoJCSAgICAgICAgICAgICk7CgkJICAgICAgICAgICAkU3VjY2VzcyA9IDE7IAoJCQl9CgkJCgkJICAgICMjVVQKCQkgICAgICAgICMjTEVWRUwgMQoJCSAgICAgICAgJFN1Y2Nlc3MgPSAxOwoJCSAgICAgICAgJHZhbGlkX2lkID0gMDsKCQkgICAgICAgIGlmICgkR2V0UGVyY3tVcGRhdGVSb2xlMX0pIHsKCQkgICAgICAgIAkKCQkgICAgICAgICAgICBpZiAoJEdldFBlcmN7VXBkYXRlTm90aWZ5MX0pIHsKCQkJCSR2YWxpZF9pZCA9IDE7CgkJICAgICAgICAgICAgfSAgICAKCQkgICAgCSAgICBlbHNlIHsKCQkJICAgICAgICAkR2V0UGVyY3tVcGRhdGVSb2xlMX0gPSAnJzsKCQkJICAgICAgICAkR2V0UGVyY3tVcGRhdGVOb3RpZnkxfSA9ICcnOwoJCQkgICAgICAgICR2YWxpZF9pZCA9IDI7CgkJCSAgICB9CgkJCX0KCQkJZWxzZSB7CgkJCSAgICAkR2V0UGVyY3tVcGRhdGVSb2xlMX0gPSAnJzsKCQkJICAgICRHZXRQZXJje1VwZGF0ZU5vdGlmeTF9ID0gJyc7CgkJCSAgICAkdmFsaWRfaWQgPSAyOwoJCQl9CgkJCQoJCSAgICAJdW5kZWYgJFN1Y2Nlc3M7CgkJCSRTdWNjZXNzID0kU2VsZi0+e0VTQ0xPYmplY3R9LT5FU0NMQWRkKAoJCQkgICAgU0xBSUQgPT4gJEdldFBlcmN7U0xBSUR9LAoJCQkgICAgTGV2ZWwgPT4gMSwKCQkJICAgIFR5cGUgPT4gJ1VUJywKCQkJICAgIFZhbGlkSUQgPT4gJHZhbGlkX2lkLAoJCQkgICAgTm90aWZ5X1RvID0+ICRHZXRQZXJje1VwZGF0ZVJvbGUxfSwKCQkJICAgIE5vdGlmeV9QZXJjID0+ICRHZXRQZXJje1VwZGF0ZU5vdGlmeTF9LAoJCQkgICAgCgkJCSk7CgkJICAgIAoJCQlpZiAoICEkU3VjY2VzcyApIHsKCQkJICAgICRFcnJvcntNZXNzYWdlfSA9ICRTZWxmLT57TG9nT2JqZWN0fS0+R2V0TG9nRW50cnkoCgkJCSAgICBUeXBlID0+ICdFcnJvcicsCgkJCSAgICBXaGF0ID0+ICdNZXNzYWdlJywKCQkJICAgICk7CgkJCSAgICAkU3VjY2VzcyA9IDE7IAoJCQl9CgkJICAgIAoJCQkjI0xFVkVMIDIKCQkJJFN1Y2Nlc3MgPSAxOwoJCQkkdmFsaWRfaWQgPSAwOwoJCQlpZiAoJEdldFBlcmN7VXBkYXRlUm9sZTJ9KSB7CgkJCSAgICAKCQkJICAgIGlmICgkR2V0UGVyY3tVcGRhdGVOb3RpZnkyfSkgewoJCQkgICAgICAgICR2YWxpZF9pZCA9IDE7CgkJCSAgICB9CgkJCSAgICBlbHNlIHsKCQkJICAgICAgICAkR2V0UGVyY3tVcGRhdGVSb2xlMn0gPSAnJzsKCQkJICAgICAgICAkR2V0UGVyY3tVcGRhdGVOb3RpZnkyfSA9ICcnOwoJCQkgICAgICAgICR2YWxpZF9pZCA9IDI7CgkJCSAgICB9CgkJCX0KCQkJZWxzZSB7CgkJCSAgICAkR2V0UGVyY3tVcGRhdGVSb2xlMn0gPSAnJzsKCQkJICAgICRHZXRQZXJje1VwZGF0ZU5vdGlmeTJ9ID0gJyc7CgkJCSAgICAkdmFsaWRfaWQgPSAyOwoJCQl9CgkJCQoJCQl1bmRlZiAkU3VjY2VzczsKCQkJJFN1Y2Nlc3MgPSRTZWxmLT57RVNDTE9iamVjdH0tPkVTQ0xBZGQoCgkJCSAgICBTTEFJRCA9PiAkR2V0UGVyY3tTTEFJRH0sCgkJCSAgICBMZXZlbCA9PiAyLAoJCQkgICAgVHlwZSA9PiAnVVQnLAoJCQkgICAgVmFsaWRJRCA9PiAkdmFsaWRfaWQsCgkJCSAgICBOb3RpZnlfVG8gPT4gJEdldFBlcmN7VXBkYXRlUm9sZTJ9LAoJCQkgICAgTm90aWZ5X1BlcmMgPT4gJEdldFBlcmN7VXBkYXRlTm90aWZ5Mn0sCgkJCSAgICAKCQkJKTsKCQkJaWYgKCAhJFN1Y2Nlc3MgKSB7CgkJCSAgICAkRXJyb3J7TWVzc2FnZX0gPSAkU2VsZi0+e0xvZ09iamVjdH0tPkdldExvZ0VudHJ5KAoJCQkgICAgVHlwZSA9PiAnRXJyb3InLAoJCQkgICAgV2hhdCA9PiAnTWVzc2FnZScsCgkJCSAgICApOwoJCQkgICAkU3VjY2VzcyA9IDE7IAoJCQl9CgkJICAgIAoJCQkjI0xFVkVMIDMKCQkJJFN1Y2Nlc3MgPSAxOwoJCQkkdmFsaWRfaWQgPSAwOwoJCQlpZiAoJEdldFBlcmN7VXBkYXRlUm9sZTN9KSB7CgkJCSAgICAKCQkJICAgIGlmICgkR2V0UGVyY3tVcGRhdGVOb3RpZnkzfSkgewoJCQkgICAgICAgICR2YWxpZF9pZCA9IDE7CgkJCSAgICB9CgkJCSAgICBlbHNlCgkJCSAgICB7CgkJCSAgICAgICAgJEdldFBlcmN7VXBkYXRlUm9sZTN9ID0gJyc7CgkJCSAgICAgICAgJEdldFBlcmN7VXBkYXRlTm90aWZ5M30gPSAnJzsKCQkJICAgICAgICAkdmFsaWRfaWQgPSAyOwoJCQkgICAgfQoJCQl9CgkJCWVsc2UgewoJCQkgICAgJEdldFBlcmN7VXBkYXRlUm9sZTN9ID0gJyc7CgkJCSAgICAkR2V0UGVyY3tVcGRhdGVOb3RpZnkzfSA9ICcnOwoJCQkgICAgJHZhbGlkX2lkID0gMjsKCQkJfQoJCQkKCQkJJFN1Y2Nlc3MgPSAiIjsKCQkJJFN1Y2Nlc3MgPSRTZWxmLT57RVNDTE9iamVjdH0tPkVTQ0xBZGQoCgkJCSAgICBTTEFJRCA9PiAkR2V0UGVyY3tTTEFJRH0sCgkJCSAgICBMZXZlbCA9PiAzLAoJCQkgICAgVHlwZSA9PiAnVVQnLAoJCQkgICAgVmFsaWRJRCA9PiAkdmFsaWRfaWQsCgkJCSAgICBOb3RpZnlfVG8gPT4gJEdldFBlcmN7VXBkYXRlUm9sZTN9LAoJCQkgICAgTm90aWZ5X1BlcmMgPT4gJEdldFBlcmN7VXBkYXRlTm90aWZ5M30sCgkJCSAgICAKCQkJKTsKCQkJCgkJCWlmICggISRTdWNjZXNzICkgewoJCQkgICAgJEVycm9ye01lc3NhZ2V9ID0gJFNlbGYtPntMb2dPYmplY3R9LT5HZXRMb2dFbnRyeSgKCQkJICAgIFR5cGUgPT4gJ0Vycm9yJywKCQkJICAgIFdoYXQgPT4gJ01lc3NhZ2UnLAoJCQkgICAgKTsKCQkgICAgICAgICAgICAkU3VjY2VzcyA9IDE7IAoJCSAgICAgICAgfQoJICAgIAoJCSAgICAjI1NUCgkJICAgICMjTEVWRUwgMQoJCSAgICAgICAgJFN1Y2Nlc3MgPSAxOwoJCSAgICAgICAgJHZhbGlkX2lkID0gMDsKCQkgICAgICAgIGlmICgkR2V0UGVyY3tTb2x1dGlvblJvbGUxfSkgewoJCSAgICAJICAgIAoJCSAgICAgICAgICAgIGlmICgkR2V0UGVyY3tTb2x1dGlvbk5vdGlmeTF9KSB7CgkJICAgICAgICAJJHZhbGlkX2lkID0gMTsKCQkgICAgICAgICAgICB9CgkJCSAgICBlbHNlIHsKCQkJICAgICAgICAgICAgJEdldFBlcmN7U29sdXRpb25Sb2xlMX0gPSAnJzsKCQkJICAgICAgICAgICAgJEdldFBlcmN7U29sdXRpb25Ob3RpZnkxfSA9ICcnOwoJCQkgICAgICAgICAgICAkdmFsaWRfaWQgPSAyOwoJCQkgICAgfQoJCQl9CgkJICAgICAgICBlbHNlCgkJICAgICAgICB7CgkJICAgICAgICAgICAgJEdldFBlcmN7U29sdXRpb25Sb2xlMX0gPSAnJzsKCQkgICAgICAgICAgICAkR2V0UGVyY3tTb2x1dGlvbk5vdGlmeTF9ID0gJyc7CgkJICAgICAgICAgICAgJHZhbGlkX2lkID0gMjsKCQkgICAgICAgIH0KCQkgICAgICAgIAoJCSAgICAgICAgdW5kZWYgJFN1Y2Nlc3M7CgkJICAgICAgICAkU3VjY2VzcyA9JFNlbGYtPntFU0NMT2JqZWN0fS0+RVNDTEFkZCgKCQkgICAgICAgICAgICBTTEFJRCA9PiAkR2V0UGVyY3tTTEFJRH0sCgkJICAgICAgICAgICAgTGV2ZWwgPT4gMSwKCQkgICAgICAgICAgICBUeXBlID0+ICdTVCcsCgkJICAgICAgICAgICAgVmFsaWRJRCA9PiAkdmFsaWRfaWQsCgkJICAgICAgICAgICAgTm90aWZ5X1RvID0+ICRHZXRQZXJje1NvbHV0aW9uUm9sZTF9LAoJCSAgICAgICAgICAgIE5vdGlmeV9QZXJjID0+ICRHZXRQZXJje1NvbHV0aW9uTm90aWZ5MX0sCgkJICAgICAgICAgICAgCgkJICAgICAgICApOwoJCSAgICAKCQkJaWYgKCAhJFN1Y2Nlc3MgKSB7CgkJCSAgICAkRXJyb3J7TWVzc2FnZX0gPSAkU2VsZi0+e0xvZ09iamVjdH0tPkdldExvZ0VudHJ5KAoJCQkgICAgVHlwZSA9PiAnRXJyb3InLAoJCQkgICAgV2hhdCA9PiAnTWVzc2FnZScsCgkJCSAgICApOwoJCQkgICAgJFN1Y2Nlc3MgPSAxOyAKCQkJfQoJCQoJCSAgICAjI0xFVkVMIDIKCQkJJFN1Y2Nlc3MgPSAxOwoJCQkkdmFsaWRfaWQgPSAwOwoJCQlpZiAoJEdldFBlcmN7U29sdXRpb25Sb2xlMn0pIHsKCQkJICAgIAoJCQkgICAgaWYgKCRHZXRQZXJje1NvbHV0aW9uTm90aWZ5Mn0pIHsKCQkJICAgICAgICAkdmFsaWRfaWQgPSAxOwoJCQkgICAgfQoJCQkgICAgZWxzZQoJCQkgICAgewoJCQkgICAgICAgICRHZXRQZXJje1NvbHV0aW9uUm9sZTJ9ID0gJyc7CgkJCSAgICAgICAgJEdldFBlcmN7U29sdXRpb25Ob3RpZnkyfSA9ICcnOwoJCQkgICAgICAgICR2YWxpZF9pZCA9IDI7CgkJCSAgICB9CgkJCX0KCQkJZWxzZSB7CgkJCSAgICAkR2V0UGVyY3tTb2x1dGlvblJvbGUyfSA9ICcnOwoJCQkgICAgJEdldFBlcmN7U29sdXRpb25Ob3RpZnkyfSA9ICcnOwoJCQkgICAgJHZhbGlkX2lkID0gMjsKCQkJfQoJCQkKCQkJdW5kZWYgJFN1Y2Nlc3M7CgkJCSRTdWNjZXNzID0kU2VsZi0+e0VTQ0xPYmplY3R9LT5FU0NMQWRkKAoJCQkgICAgU0xBSUQgPT4gJEdldFBlcmN7U0xBSUR9LAoJCQkgICAgTGV2ZWwgPT4gMiwKCQkJICAgIFR5cGUgPT4gJ1NUJywKCQkJICAgIFZhbGlkSUQgPT4gJHZhbGlkX2lkLAoJCQkgICAgTm90aWZ5X1RvID0+ICRHZXRQZXJje1NvbHV0aW9uUm9sZTJ9LAoJCQkgICAgTm90aWZ5X1BlcmMgPT4gJEdldFBlcmN7U29sdXRpb25Ob3RpZnkyfSwKCQkJICAgIAoJCQkpOwoJCQoJCQlpZiAoICEkU3VjY2VzcyApIHsKCQkJICAgICRFcnJvcntNZXNzYWdlfSA9ICRTZWxmLT57TG9nT2JqZWN0fS0+R2V0TG9nRW50cnkoCgkJCSAgICBUeXBlID0+ICdFcnJvcicsCgkJCSAgICBXaGF0ID0+ICdNZXNzYWdlJywKCQkJICAgICk7CgkJCSAgICAkU3VjY2VzcyA9IDE7IAoJCQl9CgkJCgkJICAgICMjTEVWRUwgMwoJCQkkU3VjY2VzcyA9IDE7CgkJCSR2YWxpZF9pZCA9IDA7CgkJCSAgICBpZiAoJEdldFBlcmN7U29sdXRpb25Sb2xlM30pIHsKCQkJICAgICAgICAKCQkJICAgICAgICBpZiAoJEdldFBlcmN7U29sdXRpb25Ob3RpZnkzfSkgewoJCQkgICAgICAgICAgICAkdmFsaWRfaWQgPSAxOwoJCQkgICAgICAgIH0KCQkJICAgICAgICBlbHNlIHsKCQkJICAgICAgICAgICAgCgkJCSAgICAgICAgICAgICRHZXRQZXJje1NvbHV0aW9uUm9sZTN9ID0gJyc7CgkJCSAgICAgICAgICAgICRHZXRQZXJje1NvbHV0aW9uTm90aWZ5M30gPSAnJzsKCQkJICAgICAgICAgICAgJHZhbGlkX2lkID0gMjsKCQkJICAgICAgICB9CgkJCSAgICB9CgkJCSAgICBlbHNlIHsKCQkJICAgICAgICAkR2V0UGVyY3tTb2x1dGlvblJvbGUzfSA9ICcnOwoJCQkgICAgICAgICRHZXRQZXJje1NvbHV0aW9uTm90aWZ5M30gPSAnJzsKCQkJICAgICAgICAkdmFsaWRfaWQgPSAyOwoJCQkgICAgfQoJCQkgICAgCgkJCSAgICB1bmRlZiAkU3VjY2VzczsKCQkJICAgICRTdWNjZXNzID0kU2VsZi0+e0VTQ0xPYmplY3R9LT5FU0NMQWRkKAoJCQkgICAgICAgIFNMQUlEID0+ICRHZXRQZXJje1NMQUlEfSwKCQkJICAgICAgICBMZXZlbCA9PiAzLAoJCQkgICAgICAgIFR5cGUgPT4gJ1NUJywKCQkJICAgICAgICBWYWxpZElEID0+ICR2YWxpZF9pZCwKCQkJICAgICAgICBOb3RpZnlfVG8gPT4gJEdldFBlcmN7U29sdXRpb25Sb2xlM30sCgkJCSAgICAgICAgTm90aWZ5X1BlcmMgPT4gJEdldFBlcmN7U29sdXRpb25Ob3RpZnkzfSwKCQkJICAgICAgICAKCQkJICAgICk7CgkJICAgIAoJCQlpZiAoICEkU3VjY2VzcyApIHsKCQkJICAgICAgICAkRXJyb3J7TWVzc2FnZX0gPSAkU2VsZi0+e0xvZ09iamVjdH0tPkdldExvZ0VudHJ5KAoJCQkgICAgICAgIFR5cGUgPT4gJ0Vycm9yJywKCQkJICAgICAgICBXaGF0ID0+ICdNZXNzYWdlJywKCQkJICAgICAgICApOwoJCQkgICAgICAgICRTdWNjZXNzID0gMTsgCgkJCX0KCQkgICAgCgkJJUVycm9yID0gKCk7CiAgICAgICAgICAgICNFbmQgb2YgbWFpbiBlbHNlIHBhcnQKCSAgICB9CiAgICAgICAgICAgICAgCgkgICAjIGNsb3NlKEZGKTsKCSAgICAKICAgICAgICAgICAgaWYgKCAhJUVycm9yICkgewoKICAgICAgICAgICAgICAgICMgdXBkYXRlIHByZWZlcmVuY2VzCiAgICAgICAgICAgICAgICBteSAlU0xBRGF0YSA9ICRTZWxmLT57U0xBT2JqZWN0fS0+U0xBR2V0KAogICAgICAgICAgICAgICAgICAgIFNMQUlEICA9PiAkR2V0UGFyYW17U0xBSUR9LAogICAgICAgICAgICAgICAgICAgIFVzZXJJRCA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgbXkgJVByZWZlcmVuY2VzID0gKCk7CiAgICAgICAgICAgICAgICBpZiAoICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCdTTEFQcmVmZXJlbmNlcycpICkgewogICAgICAgICAgICAgICAgICAgICVQcmVmZXJlbmNlcyA9ICV7ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCdTTEFQcmVmZXJlbmNlcycpIH07CiAgICAgICAgICAgICAgICB9CgkJCgkJZm9yIG15ICRJdGVtICggc29ydCBrZXlzICVQcmVmZXJlbmNlcyApIHsKICAgICAgICAgICAgICAgICAgICBteSAkTW9kdWxlID0gJFByZWZlcmVuY2VzeyRJdGVtfS0+e01vZHVsZX0KICAgICAgICAgICAgICAgICAgICAgICAgfHwgJ0tlcm5lbDo6T3V0cHV0OjpIVE1MOjpTTEFQcmVmZXJlbmNlc0dlbmVyaWMnOwoJCQkKICAgICAgICAgICAgICAgICAgICAjIGxvYWQgbW9kdWxlCiAgICAgICAgICAgICAgICAgICAgaWYgKCAhJFNlbGYtPntNYWluT2JqZWN0fS0+UmVxdWlyZSgkTW9kdWxlKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvcigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBteSAkT2JqZWN0ID0gJE1vZHVsZS0+bmV3KAogICAgICAgICAgICAgICAgICAgICAgICAleyRTZWxmfSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnSXRlbSA9PiAkUHJlZmVyZW5jZXN7JEl0ZW19LAogICAgICAgICAgICAgICAgICAgICAgICBEZWJ1ZyAgICAgID0+ICRTZWxmLT57RGVidWd9LAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgbXkgJE5vdGU7CiAgICAgICAgICAgICAgICAgICAgbXkgQFBhcmFtcyA9ICRPYmplY3QtPlBhcmFtKCBTTEFEYXRhID0+IFwlU0xBRGF0YSApOwogICAgICAgICAgICAgICAgICAgIGlmIChAUGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG15ICVHZXRQYXJhbSA9ICgpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgbXkgJFBhcmFtSXRlbSAoQFBhcmFtcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXkgQEFycmF5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0QXJyYXkoIFBhcmFtID0+ICRQYXJhbUl0ZW0tPntOYW1lfSApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdldFBhcmFteyAkUGFyYW1JdGVtLT57TmFtZX0gfSA9IFxAQXJyYXk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhJE9iamVjdC0+UnVuKCBHZXRQYXJhbSA9PiBcJUdldFBhcmFtLCBTTEFEYXRhID0+IFwlU0xBRGF0YSApICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5vdGUgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Ob3RpZnkoIEluZm8gPT4gJE9iamVjdC0+RXJyb3IoKSApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAjIyBmb3IgbXkgJEl0ZW0gc29ydCBrZXlzICVQcmVmZXJlbmNlcyAKICAgICAgICAgICAgICAgIHJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KCBPUCA9PiAiQWN0aW9uPSRTZWxmLT57QWN0aW9ufSIgKTsKICAgICAgICAgICAgfSAjIyBFbmQgb2YgaWYgICElRXJyb3IgCiAgICAgICAgfSAjIyBpZiBubyBlcnJvcnMgb2NjdXJyZWQKCiAgICAgICAgIyBoZWFkZXIKICAgICAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsKICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+TmF2aWdhdGlvbkJhcigpOwogICAgICAgICRPdXRwdXQgLj0gJEVycm9ye01lc3NhZ2V9CiAgICAgICAgICAgID8gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Ob3RpZnkoCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdFcnJvcicsCiAgICAgICAgICAgIEluZm8gICAgID0+ICRFcnJvcntNZXNzYWdlfSwKICAgICAgICAgICAgKQogICAgICAgICAgICA6ICcnOwoKICAgICAgICAjIGh0bWwgb3V0cHV0CiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+X01hc2tOZXcoCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgJUdldFBhcmFtLAogICAgICAgICAgICAlRXJyb3IsCiAgICAgICAgKTsKICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Rm9vdGVyKCk7CiAgICAgICAgcmV0dXJuICRPdXRwdXQ7CgkKICAgIH0gIyMgZWxzaWYgJFNlbGYtPntTdWJhY3Rpb259IGVxICdFU0NMU2F2ZScgIAoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKICAgICMgZXNjbCBvdmVydmlldwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwogICAgZWxzZSB7CgogICAgICAgICMgb3V0cHV0IGhlYWRlcgogICAgICAgIG15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkhlYWRlcigpOwogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7CgogICAgICAgICMgY2hlY2sgaWYgc2VydmljZSBpcyBlbmFibGVkIHRvIHVzZSBpdCBoZXJlCiAgICAgICAgaWYgKCAhJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoJ1RpY2tldDo6U2VydmljZScpICkgewogICAgICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Tm90aWZ5KAogICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ0Vycm9yJywKICAgICAgICAgICAgICAgIERhdGEgICAgID0+ICckVGV4dHsiUGxlYXNlIGFjdGl2YXRlICVzIGZpcnN0ISIsICJTZXJ2aWNlIn0nLAogICAgICAgICAgICAgICAgTGluayA9PgogICAgICAgICAgICAgICAgICAgICckRW52eyJCYXNlbGluayJ9QWN0aW9uPUFkbWluU3lzQ29uZmlnO1N1YmFjdGlvbj1FZGl0O1N5c0NvbmZpZ0dyb3VwPVRpY2tldDtTeXNDb25maWdTdWJHcm91cD1Db3JlOjpUaWNrZXQjVGlja2V0OjpTZXJ2aWNlJywKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgICMgb3V0cHV0IG92ZXJ2aWV3CiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXcnLAogICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgfSwKICAgICAgICApOwoKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKCBOYW1lID0+ICdBY3Rpb25MaXN0JyApOwogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soIE5hbWUgPT4gJ0FjdGlvbkFkZCcgKTsKCiAgICAgICAgIyBvdXRwdXQgb3ZlcnZpZXcgcmVzdWx0CiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdMaXN0JywKICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgIH0sCiAgICAgICAgKTsKCiAgICAgICAgIyBnZXQgc2VydmljZSBsaXN0CiAgICAgICAgbXkgJVNlcnZpY2VMaXN0ID0gJFNlbGYtPntTZXJ2aWNlT2JqZWN0fS0+U2VydmljZUxpc3QoCiAgICAgICAgICAgIFZhbGlkICA9PiAwLAogICAgICAgICAgICBVc2VySUQgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICk7CgogICAgICAgICMgZ2V0IHZhbGlkIGxpc3QKICAgICAgICBteSAlVmFsaWRMaXN0ID0gJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkTGlzdCgpOwoKICAgICAgICAjIGdldCBzbGEgbGlzdAogICAgICAgIG15ICVTTEFMaXN0ID0gJFNlbGYtPntTTEFPYmplY3R9LT5TTEFMaXN0KAogICAgICAgICAgICBWYWxpZCAgPT4gMCwKICAgICAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICApOwoKICAgICAgICAjIGlmIHRoZXJlIGFyZSBhbnkgU0xBJ3MgZGVmaW5lZCwgdGhleSBhcmUgc2hvd24KICAgICAgICBpZiAoJVNMQUxpc3QpIHsKICAgICAgICAgICAgI1NMQUlEOgogICAgICAgICAgICBmb3IgbXkgJFNMQUlEICggc29ydCB7IGxjICRTTEFMaXN0eyRhfSBjbXAgbGMgJFNMQUxpc3R7JGJ9IH0ga2V5cyAlU0xBTGlzdCApIHsKCiAgICAgICAgICAgICAgICAjIGdldCB0aGUgc2xhIGRhdGEKICAgICAgICAgICAgICAgIG15ICVTTEFEYXRhID0gJFNlbGYtPntTTEFPYmplY3R9LT5TTEFHZXQoCiAgICAgICAgICAgICAgICAgICAgU0xBSUQgID0+ICRTTEFJRCwKICAgICAgICAgICAgICAgICAgICBVc2VySUQgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAjIGJ1aWxkIHRoZSBzZXJ2aWNlIGxpc3QKICAgICAgICAgICAgICAgIG15IEBTZXJ2aWNlTGlzdDsKICAgICAgICAgICAgICAgIGZvciBteSAkU2VydmljZUlEICggc29ydCB7IGxjICRTZXJ2aWNlTGlzdHskYX0gY21wIGxjICRTZXJ2aWNlTGlzdHskYn0gfSBAeyAkU0xBRGF0YXtTZXJ2aWNlSURzfSB9ICkgewogICAgICAgICAgICAgICAgICAgIHB1c2ggQFNlcnZpY2VMaXN0LCAkU2VydmljZUxpc3R7JFNlcnZpY2VJRH0gfHwgJy0nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgb3V0cHV0IG92ZXJ2aWV3IGxpc3Qgcm93CiAgICAgICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3TGlzdFJvdycsCiAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICVTTEFEYXRhLAogICAgICAgICAgICAgICAgICAgICAgICBTZXJ2aWNlID0+ICRTZXJ2aWNlTGlzdFswXSB8fCAnLScsCiAgICAgICAgICAgICAgICAgICAgICAgIFZhbGlkID0+ICRWYWxpZExpc3R7ICRTTEFEYXRhe1ZhbGlkSUR9IH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgbmV4dCBpZiBzY2FsYXIgQFNlcnZpY2VMaXN0IDw9IDE7CgogICAgICAgICAgICAgICAgIyByZW1vdmUgdGhlIGZpcnN0IHNlcnZpY2UgaWQKICAgICAgICAgICAgICAgIHNoaWZ0IEBTZXJ2aWNlTGlzdDsKCiAgICAgICAgICAgICAgICBmb3IgbXkgJFNlcnZpY2VOYW1lIChAU2VydmljZUxpc3QpIHsKCiAgICAgICAgICAgICAgICAgICAgIyBvdXRwdXQgb3ZlcnZpZXcgbGlzdCByb3cKICAgICAgICAgICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICdPdmVydmlld0xpc3RSb3cnLAogICAgICAgICAgICAgICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlcnZpY2UgPT4gJFNlcnZpY2VOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICMgb3RoZXJ3aXNlIGEgbm8gZGF0YSBmb3VuZCBtc2cgaXMgZGlzcGxheWVkCiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgICAgICAgICBOYW1lID0+ICdOb0RhdGFGb3VuZE1zZycsCiAgICAgICAgICAgICAgICBEYXRhID0+IHt9LAogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgIyBnZW5lcmF0ZSBvdXRwdXQKICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KAogICAgICAgICAgICBUZW1wbGF0ZUZpbGUgPT4gJ0FkbWluRVNDTCcsCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiBcJVBhcmFtLAogICAgICAgICk7CiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZvb3RlcigpOwoKICAgICAgICByZXR1cm4gJE91dHB1dDsKICAgIH0KfQoKc3ViIF9NYXNrTmV3IHsKCiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IHBhcmFtcwogICAgbXkgJVNMQURhdGE7CiAgICBteSAlRVNDTERhdGE7CiAgICBteSAkU0xBX0lEOyAKICAgICAkU0xBRGF0YXtTTEFJRH0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdTTEFJRCcgKSB8fCAnJzsKCiAgICBpZiAoICRTTEFEYXRhe1NMQUlEfSApIHsKCiAgICAgICAgJFNMQV9JRCA9ICRTTEFEYXRhe1NMQUlEfTsKCSMgZ2V0IHNsYSBkYXRhCiAgICAgICAgJVNMQURhdGEgPSAkU2VsZi0+e1NMQU9iamVjdH0tPlNMQUdldCgKICAgICAgICAgICAgU0xBSUQgID0+ICRTTEFEYXRhe1NMQUlEfSwKICAgICAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICApOwoJIyBnZXQgZXNjYWxhdGlvbiBtYXRyaXgKCSVFU0NMRGF0YSA9ICRTZWxmLT57RVNDTE9iamVjdH0tPkVTQ0xHZXQoCgkgICAgU0xBSUQgID0+ICRTTEFEYXRhe1NMQUlEfSwKCSAgICBVc2VySUQgPT4gMSwKCSk7CgkKICAgIH0KICAgIGVsc2UgewogICAgICAgICRTTEFEYXRhe1NlcnZpY2VJRH0gPSAkU2VsZi0+e1BhcmFtT2JqZWN0fS0+R2V0UGFyYW0oIFBhcmFtID0+ICdTZXJ2aWNlSUQnICk7CiAgICB9CiAgICAKCiAgICAjIGdldCBzZXJ2aWNlIGxpc3QKICAgIG15ICVTZXJ2aWNlTGlzdCA9ICRTZWxmLT57U2VydmljZU9iamVjdH0tPlNlcnZpY2VMaXN0KAogICAgICAgIFZhbGlkICA9PiAwLAogICAgICAgIFVzZXJJRCA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwoKICAgICMgZ2VuZXJhdGUgU2VydmljZU9wdGlvblN0cmcKICAgICRQYXJhbXtTZXJ2aWNlT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgID0+IFwlU2VydmljZUxpc3QsCiAgICAgICAgTmFtZSAgICAgICAgPT4gJ1NlcnZpY2VJRHMnLAogICAgICAgIFNlbGVjdGVkSUQgID0+ICRTTEFEYXRhe1NlcnZpY2VJRHN9IHx8IFtdLAogICAgICAgIE11bHRpcGxlICAgID0+IDEsCiAgICAgICAgU2l6ZSAgICAgICAgPT4gNSwKICAgICAgICBUcmFuc2xhdGlvbiA9PiAwLAogICAgICAgIE1heCAgICAgICAgID0+IDIwMCwKICAgICk7CgoKICAgICMgZ2VuZXJhdGUgQ2FsZW5kYXJPcHRpb25TdHJnCiAgICBteSAlQ2FsZW5kYXJMaXN0OwogICAgZm9yIG15ICRDYWxlbmRhck51bWJlciAoICcnLCAxIC4uIDUwICkgewogICAgICAgIGlmICggJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoIlRpbWVWYWNhdGlvbkRheXM6OkNhbGVuZGFyJENhbGVuZGFyTnVtYmVyIikgKSB7CiAgICAgICAgICAgICRDYWxlbmRhckxpc3R7JENhbGVuZGFyTnVtYmVyfSA9ICJDYWxlbmRhciAkQ2FsZW5kYXJOdW1iZXIgLSAiCiAgICAgICAgICAgICAgICAuICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCAiVGltZVpvbmU6OkNhbGVuZGFyIiAuICRDYWxlbmRhck51bWJlciAuICJOYW1lIiApOwogICAgICAgIH0KICAgIH0KICAgICRTTEFEYXRhe0NhbGVuZGFyT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJUNhbGVuZGFyTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ0NhbGVuZGFyJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte0NhbGVuZGFyfSB8fCAkU0xBRGF0YXtDYWxlbmRhcn0sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOwogICAgbXkgJU5vdGlmeUxldmVsTGlzdCA9ICgKICAgICAgICAxMCA9PiAnMTAlJywKICAgICAgICAyMCA9PiAnMjAlJywKICAgICAgICAzMCA9PiAnMzAlJywKICAgICAgICA0MCA9PiAnNDAlJywKICAgICAgICA1MCA9PiAnNTAlJywKICAgICAgICA2MCA9PiAnNjAlJywKICAgICAgICA3MCA9PiAnNzAlJywKICAgICAgICA4MCA9PiAnODAlJywKICAgICAgICA5MCA9PiAnOTAlJywKICAgICk7CiAgICAKICAgICMgZ2VuZXJhdGUgdGhlIHZhbGlkIHJvbGVsaXN0IGFuZCBhcHBlbmQgb25lIHRlbXBvcmFyeSBmb3IgQWdlbnQvT3duZXIKICAgIG15ICVSb2xlTGV2ZWxMaXN0OwogICAgJVJvbGVMZXZlbExpc3QgPSAkQ29tbW9uT2JqZWN0e0dyb3VwT2JqZWN0fS0+Um9sZUxpc3QoIFZhbGlkID0+IDEgKTsKICAgICRSb2xlTGV2ZWxMaXN0ey05OX0gPSAnT3duZXInOwogICAgICAgCiAgICAKICAgICMgICAgIyNGUgogICAgJEVTQ0xEYXRhe0ZpcnN0UmVzcG9uc2VOb3RpZnkxT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJU5vdGlmeUxldmVsTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ0ZpcnN0UmVzcG9uc2VOb3RpZnkxJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte0ZpcnN0UmVzcG9uc2VOb3RpZnkxfSB8fCAkRVNDTERhdGF7JFNMQV9JRH17RlJ9ezF9e05vdGlmeV9QZXJjfSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICk7CiAgICAkRVNDTERhdGF7Rmlyc3RSZXNwb25zZU5vdGlmeTJPcHRpb25TdHJnfSA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgRGF0YSAgICAgICAgID0+IFwlTm90aWZ5TGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnRmlyc3RSZXNwb25zZU5vdGlmeTInLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17Rmlyc3RSZXNwb25zZU5vdGlmeTJ9IHx8ICRFU0NMRGF0YXskU0xBX0lEfXtGUn17Mn17Tm90aWZ5X1BlcmN9LAogICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgKTsgICAgICAgIAogICAgJEVTQ0xEYXRhe0ZpcnN0UmVzcG9uc2VOb3RpZnkzT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJU5vdGlmeUxldmVsTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ0ZpcnN0UmVzcG9uc2VOb3RpZnkzJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte0ZpcnN0UmVzcG9uc2VOb3RpZnkzfSB8fCAkRVNDTERhdGF7JFNMQV9JRH17RlJ9ezN9e05vdGlmeV9QZXJjfSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICk7CiAgICAkRVNDTERhdGF7Rmlyc3RSZXNwb25zZVJvbGUxT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJVJvbGVMZXZlbExpc3QsCiAgICAgICAgTmFtZSAgICAgICAgID0+ICdGaXJzdFJlc3BvbnNlUm9sZTEnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17Rmlyc3RSZXNwb25zZVJvbGUxfSB8fCAkRVNDTERhdGF7JFNMQV9JRH17RlJ9ezF9e05vdGlmeV9Ub30sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOwogICAgJEVTQ0xEYXRhe0ZpcnN0UmVzcG9uc2VSb2xlMk9wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgICAgPT4gXCVSb2xlTGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnRmlyc3RSZXNwb25zZVJvbGUyJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte0ZpcnN0UmVzcG9uc2VSb2xlMn0gfHwgJEVTQ0xEYXRheyRTTEFfSUR9e0ZSfXsyfXtOb3RpZnlfVG99LAogICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgKTsgICAgICAgIAogICAgJEVTQ0xEYXRhe0ZpcnN0UmVzcG9uc2VSb2xlM09wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgICAgPT4gXCVSb2xlTGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnRmlyc3RSZXNwb25zZVJvbGUzJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte0ZpcnN0UmVzcG9uc2VSb2xlM30gfHwgJEVTQ0xEYXRheyRTTEFfSUR9e0ZSfXszfXtOb3RpZnlfVG99LAogICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgKTsKICAgICMjVVQKICAgICRFU0NMRGF0YXtVcGRhdGVOb3RpZnkxT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJU5vdGlmeUxldmVsTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1VwZGF0ZU5vdGlmeTEnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VXBkYXRlTm90aWZ5MX0gfHwgJEVTQ0xEYXRheyRTTEFfSUR9e1VUfXsxfXtOb3RpZnlfUGVyY30sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOwogICAgJEVTQ0xEYXRhe1VwZGF0ZU5vdGlmeTJPcHRpb25TdHJnfSA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgRGF0YSAgICAgICAgID0+IFwlTm90aWZ5TGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnVXBkYXRlTm90aWZ5MicsCiAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRQYXJhbXtVcGRhdGVOb3RpZnkyfSB8fCAkRVNDTERhdGF7JFNMQV9JRH17VVR9ezJ9e05vdGlmeV9QZXJjfSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICk7ICAgICAgICAKICAgICRFU0NMRGF0YXtVcGRhdGVOb3RpZnkzT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJU5vdGlmeUxldmVsTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1VwZGF0ZU5vdGlmeTMnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VXBkYXRlTm90aWZ5M30gfHwgJEVTQ0xEYXRheyRTTEFfSUR9e1VUfXszfXtOb3RpZnlfUGVyY30sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOwogICAgJEVTQ0xEYXRhe1VwZGF0ZVJvbGUxT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJVJvbGVMZXZlbExpc3QsCiAgICAgICAgTmFtZSAgICAgICAgID0+ICdVcGRhdGVSb2xlMScsCiAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRQYXJhbXtVcGRhdGVSb2xlMX0gfHwgJEVTQ0xEYXRheyRTTEFfSUR9e1VUfXsxfXtOb3RpZnlfVG99LAogICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgKTsKICAgICRFU0NMRGF0YXtVcGRhdGVSb2xlMk9wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgICAgPT4gXCVSb2xlTGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnVXBkYXRlUm9sZTInLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VXBkYXRlUm9sZTJ9IHx8ICRFU0NMRGF0YXskU0xBX0lEfXtVVH17Mn17Tm90aWZ5X1RvfSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICk7ICAgICAgICAKICAgICRFU0NMRGF0YXtVcGRhdGVSb2xlM09wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgICAgPT4gXCVSb2xlTGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnVXBkYXRlUm9sZTMnLAogICAgICAgIFNlbGVjdGVkSUQgICA9PiAkUGFyYW17VXBkYXRlUm9sZTN9IHx8ICRFU0NMRGF0YXskU0xBX0lEfXtVVH17M317Tm90aWZ5X1RvfSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICk7CiAgICAjI1NUCiAgICAkRVNDTERhdGF7U29sdXRpb25Ob3RpZnkxT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJU5vdGlmeUxldmVsTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1NvbHV0aW9uTm90aWZ5MScsCiAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRQYXJhbXtTb2x1dGlvbk5vdGlmeTF9IHx8ICRFU0NMRGF0YXskU0xBX0lEfXtTVH17MX17Tm90aWZ5X1BlcmN9LAogICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgKTsKICAgICRFU0NMRGF0YXtTb2x1dGlvbk5vdGlmeTJPcHRpb25TdHJnfSA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgRGF0YSAgICAgICAgID0+IFwlTm90aWZ5TGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnU29sdXRpb25Ob3RpZnkyJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte1NvbHV0aW9uTm90aWZ5Mn0gfHwgJEVTQ0xEYXRheyRTTEFfSUR9e1NUfXsyfXtOb3RpZnlfUGVyY30sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOyAgICAgICAgCiAgICAkRVNDTERhdGF7U29sdXRpb25Ob3RpZnkzT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJU5vdGlmeUxldmVsTGlzdCwKICAgICAgICBOYW1lICAgICAgICAgPT4gJ1NvbHV0aW9uTm90aWZ5MycsCiAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRQYXJhbXtTb2x1dGlvbk5vdGlmeTN9IHx8ICRFU0NMRGF0YXskU0xBX0lEfXtTVH17M317Tm90aWZ5X1BlcmN9LAogICAgICAgIFBvc3NpYmxlTm9uZSA9PiAxLAogICAgKTsKICAgICRFU0NMRGF0YXtTb2x1dGlvblJvbGUxT3B0aW9uU3RyZ30gPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJ1aWxkU2VsZWN0aW9uKAogICAgICAgIERhdGEgICAgICAgICA9PiBcJVJvbGVMZXZlbExpc3QsCiAgICAgICAgTmFtZSAgICAgICAgID0+ICdTb2x1dGlvblJvbGUxJywKICAgICAgICBTZWxlY3RlZElEICAgPT4gJFBhcmFte1NvbHV0aW9uUm9sZTF9IHx8ICRFU0NMRGF0YXskU0xBX0lEfXtTVH17MX17Tm90aWZ5X1RvfSwKICAgICAgICBQb3NzaWJsZU5vbmUgPT4gMSwKICAgICk7CiAgICAkRVNDTERhdGF7U29sdXRpb25Sb2xlMk9wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgICAgPT4gXCVSb2xlTGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnU29sdXRpb25Sb2xlMicsCiAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRQYXJhbXtTb2x1dGlvblJvbGUyfSB8fCAkRVNDTERhdGF7JFNMQV9JRH17U1R9ezJ9e05vdGlmeV9Ub30sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOyAgICAgICAgCiAgICAkRVNDTERhdGF7U29sdXRpb25Sb2xlM09wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgICAgPT4gXCVSb2xlTGV2ZWxMaXN0LAogICAgICAgIE5hbWUgICAgICAgICA9PiAnU29sdXRpb25Sb2xlMycsCiAgICAgICAgU2VsZWN0ZWRJRCAgID0+ICRQYXJhbXtTb2x1dGlvblJvbGUzfSB8fCAkRVNDTERhdGF7JFNMQV9JRH17U1R9ezN9e05vdGlmeV9Ub30sCiAgICAgICAgUG9zc2libGVOb25lID0+IDEsCiAgICApOwogICAgIyMjRW5kIEhlcmUgQnkgUm9oaXQgQmFzdQogICAgCgogICAgIyBnZXQgdmFsaWQgbGlzdAogICAgbXkgJVZhbGlkTGlzdCAgICAgICAgPSAkU2VsZi0+e1ZhbGlkT2JqZWN0fS0+VmFsaWRMaXN0KCk7CiAgICBteSAlVmFsaWRMaXN0UmV2ZXJzZSA9IHJldmVyc2UgJVZhbGlkTGlzdDsKCiAgICAkU0xBRGF0YXtWYWxpZE9wdGlvblN0cmd9ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CdWlsZFNlbGVjdGlvbigKICAgICAgICBEYXRhICAgICAgID0+IFwlVmFsaWRMaXN0LAogICAgICAgIE5hbWUgICAgICAgPT4gJ1ZhbGlkSUQnLAogICAgICAgIFNlbGVjdGVkSUQgPT4gJFBhcmFte1ZhbGlkSUR9IHx8ICRTTEFEYXRhe1ZhbGlkSUR9IHx8ICRWYWxpZExpc3RSZXZlcnNle3ZhbGlkfSwKICAgICk7CgogICAgIyBvdXRwdXQgc2xhIGVkaXQKICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soCiAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXcnLAogICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAlUGFyYW0KICAgICAgICB9LAogICAgKTsKCiAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKCBOYW1lID0+ICdBY3Rpb25MaXN0JyApOwogICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnQWN0aW9uT3ZlcnZpZXcnICk7CgogICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICBOYW1lID0+ICdFU0NMRWRpdCcsCiAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgJVNMQURhdGEsCgkgICAgJUVTQ0xEYXRhLAogICAgICAgIH0sCiAgICApOwoKICAgICMgc2hvd3MgaGVhZGVyCiAgICBpZiAoICRTTEFEYXRhe1NMQUlEfSApIHsKICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKCBOYW1lID0+ICdIZWFkZXJFZGl0JyApOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnSGVhZGVyQWRkJyApOwogICAgfQoKICAgICMgc2hvdyBlYWNoIHByZWZlcmVuY2VzIHNldHRpbmcKICAgIG15ICVQcmVmZXJlbmNlcyA9ICgpOwogICAgaWYgKCAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgnU0xBUHJlZmVyZW5jZXMnKSApIHsKICAgICAgICAlUHJlZmVyZW5jZXMgPSAleyAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgnU0xBUHJlZmVyZW5jZXMnKSB9OwogICAgfQogICAgZm9yIG15ICRJdGVtICggc29ydCBrZXlzICVQcmVmZXJlbmNlcyApIHsKICAgICAgICBteSAkTW9kdWxlID0gJFByZWZlcmVuY2VzeyRJdGVtfS0+e01vZHVsZX0KICAgICAgICAgICAgfHwgJ0tlcm5lbDo6T3V0cHV0OjpIVE1MOjpTTEFQcmVmZXJlbmNlc0dlbmVyaWMnOwoKICAgICAgICAjIGxvYWQgbW9kdWxlCiAgICAgICAgaWYgKCAhJFNlbGYtPntNYWluT2JqZWN0fS0+UmVxdWlyZSgkTW9kdWxlKSApIHsKICAgICAgICAgICAgcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvcigpOwogICAgICAgIH0KICAgICAgICBteSAkT2JqZWN0ID0gJE1vZHVsZS0+bmV3KAogICAgICAgICAgICAleyRTZWxmfSwKICAgICAgICAgICAgQ29uZmlnSXRlbSA9PiAkUHJlZmVyZW5jZXN7JEl0ZW19LAogICAgICAgICAgICBEZWJ1ZyAgICAgID0+ICRTZWxmLT57RGVidWd9LAogICAgICAgICk7CiAgICAgICAgbXkgQFBhcmFtcyA9ICRPYmplY3QtPlBhcmFtKCBTTEFEYXRhID0+IFwlU0xBRGF0YSApOwogICAgICAgIGlmIChAUGFyYW1zKSB7CiAgICAgICAgICAgIGZvciBteSAkUGFyYW1JdGVtIChAUGFyYW1zKSB7CiAgICAgICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKAogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ1NMQUl0ZW0nLAogICAgICAgICAgICAgICAgICAgIERhdGEgPT4geyAlUGFyYW0sIH0sCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgIHJlZiggJFBhcmFtSXRlbS0+e0RhdGF9ICkgZXEgJ0hBU0gnCiAgICAgICAgICAgICAgICAgICAgfHwgcmVmKCAkUHJlZmVyZW5jZXN7JEl0ZW19LT57RGF0YX0gKSBlcSAnSEFTSCcKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFBhcmFtSXRlbS0+eydPcHRpb24nfSA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QnVpbGRTZWxlY3Rpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICV7ICRQcmVmZXJlbmNlc3skSXRlbX0gfSwKICAgICAgICAgICAgICAgICAgICAgICAgJXskUGFyYW1JdGVtfSwKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICRQYXJhbUl0ZW0tPntCbG9ja30gfHwgJFByZWZlcmVuY2VzeyRJdGVtfS0+e0Jsb2NrfSB8fCAnT3B0aW9uJywKICAgICAgICAgICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgJXsgJFByZWZlcmVuY2VzeyRJdGVtfSB9LAogICAgICAgICAgICAgICAgICAgICAgICAleyRQYXJhbUl0ZW19LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICMgZ2V0IG91dHB1dCBiYWNrCiAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5PdXRwdXQoIFRlbXBsYXRlRmlsZSA9PiAnQWRtaW5FU0NMJywgRGF0YSA9PiBcJVBhcmFtICk7Cn0KCjE7Cg==</File>
        <File Location="Kernel/System/Escalation.pm" Permission="664" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vRXNjYWxhdGlvbi5wbSAtIGFsbCBzbGEgZnVuY3Rpb24KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMyBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0gCiMgJElkOiBFc2NhbGF0aW9uLnBtLCB2IDEuMCAyMDEzLzAyLzA0IDE0OjM4OjU3IGVuIEV4cCAkCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6U3lzdGVtOjpFc2NhbGF0aW9uOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKCgp1c2UgdmFycyBxdyhASVNBICRWRVJTSU9OKTsKJFZFUlNJT04gPSBxdygkUmV2aXNpb246IDEuMCAkKSBbMV07Cgo9aGVhZDEgTkFNRQoKS2VybmVsOjpTeXN0ZW06OkVzY2FsYXRpb24gLSBlc2NhbGF0aW9uIGxpYgoKPWhlYWQxIFNZTk9QU0lTCgpBbGwgZXNjYWxhdGlvbiBmdW5jdGlvbnMuCgo9aGVhZDEgUFVCTElDIElOVEVSRkFDRQoKPW92ZXIgNAoKPWN1dAoKPWl0ZW0gbmV3KCkKCmNyZWF0ZSBhbiBvYmplY3QKCiAgICB1c2UgS2VybmVsOjpDb25maWc7CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06OkVuY29kZTsKICAgIHVzZSBLZXJuZWw6OlN5c3RlbTo6TG9nOwogICAgdXNlIEtlcm5lbDo6U3lzdGVtOjpNYWluOwogICAgdXNlIEtlcm5lbDo6U3lzdGVtOjpEQjsKICAgIHVzZSBLZXJuZWw6OlN5c3RlbTo6RXNjYWxhdGlvbjsKCiAgICBteSAkQ29uZmlnT2JqZWN0ID0gS2VybmVsOjpDb25maWctPm5ldygpOwogICAgbXkgJEVuY29kZU9iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpFbmNvZGUtPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICk7CiAgICBteSAkTG9nT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OkxvZy0+bmV3KAogICAgICAgIENvbmZpZ09iamVjdCA9PiAkQ29uZmlnT2JqZWN0LAogICAgICAgIEVuY29kZU9iamVjdCA9PiAkRW5jb2RlT2JqZWN0LAogICAgKTsKICAgIG15ICRNYWluT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06Ok1haW4tPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICAgICBFbmNvZGVPYmplY3QgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBMb2dPYmplY3QgICAgPT4gJExvZ09iamVjdCwKICAgICk7CiAgICBteSAkREJPYmplY3QgPSBLZXJuZWw6OlN5c3RlbTo6REItPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICAgICBFbmNvZGVPYmplY3QgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBMb2dPYmplY3QgICAgPT4gJExvZ09iamVjdCwKICAgICAgICBNYWluT2JqZWN0ICAgPT4gJE1haW5PYmplY3QsCiAgICApOwogICAgbXkgJEVTQ0xPYmplY3QgPSBLZXJuZWw6OlN5c3RlbTo6RXNjbGF0aW9uLT5uZXcoCiAgICAgICAgQ29uZmlnT2JqZWN0ID0+ICRDb25maWdPYmplY3QsCiAgICAgICAgRW5jb2RlT2JqZWN0ID0+ICRFbmNvZGVPYmplY3QsCiAgICAgICAgTG9nT2JqZWN0ICAgID0+ICRMb2dPYmplY3QsCiAgICAgICAgREJPYmplY3QgICAgID0+ICREQk9iamVjdCwKICAgICAgICBNYWluT2JqZWN0ICAgPT4gJE1haW5PYmplY3QsCiAgICApOwoKPWN1dAoKc3ViIG5ldyB7CiAgICAgICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKICAgICAgICAgICAgCiAgICAgICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICAgICAgbXkgJFNlbGYgPSB7fTsKICAgICAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CiAgICAgICAgICAgIAogICAgICAgICMgY2hlY2sgbmVlZGVkIG9iamVjdHMKICAgICAgICBmb3IgbXkgJE9iamVjdCAocXcoREJPYmplY3QgQ29uZmlnT2JqZWN0IEVuY29kZU9iamVjdCBMb2dPYmplY3QgTWFpbk9iamVjdCkpIHsKICAgICAgICAgICAgJFNlbGYtPnskT2JqZWN0fSA9ICRQYXJhbXskT2JqZWN0fSB8fCBkaWUgIkdvdCBubyAkT2JqZWN0ISI7CiAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICByZXR1cm4gJFNlbGY7CiAgICB9CgoKPWl0ZW0gRVNDTEdldCgpCgpyZXR1cm4gYSBzbGEgYXMgaGFzaAoKUmV0dXJuCiAgICAkRVNDTERhdGF7U0xBSUR9e05vdGlmeV9UeXBlfXtMZXZlbH17Tm90aWZ5X1RvfQogICAgJEVTQ0xEYXRhe1NMQUlEfXtOb3RpZnlfVHlwZX17TGV2ZWx9e05vdGlmeV9QZXJjfQogICAgJEVTQ0xEYXRhe1NMQUlEfXtOb3RpZnlfVHlwZX17TGV2ZWx9e1ZhbGlkX0lEfQoKCiAgICBteSAlRVNDTERhdGEgPSAkU0xBT2JqZWN0LT5FU0NMR2V0KAogICAgICAgIFNMQUlEICA9PiAxMjMsCiAgICAgICAgVXNlcklEID0+IDEsCiAgICApOwoKPWN1dAoKc3ViIEVTQ0xHZXQgewogICAgICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CiAgICAgICAgCiAgICAgICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgICAgICAgICAgZm9yIG15ICRBcmd1bWVudCAocXcoU0xBSUQgVXNlcklEKSkgewogICAgICAgICAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coIFByaW9yaXR5ID0+ICdlcnJvcicsIE1lc3NhZ2UgPT4gIk5lZWQgJEFyZ3VtZW50ISIgKTsKICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAjIGNoZWNrIGlmIHZhbGlkIHNsYSBhbmQgdXBkYXRlIGVzY2FsYXRpb24KICAgICAgICAgICAgI3VwZGF0ZSBlc2NhbGF0aW9uIHNldCB2YWxpZF9pZCA9IDIgd2hlcmUgc2xhX2lkIGluIChzZWxlY3QgaWQgZnJvbSBzbGEgd2hlcmUgdmFsaWRfaWQgPSAyKTsKICAgICAgICAgICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgICAgICAgICBTUUwgICA9PiAndXBkYXRlIGVzY2FsYXRpb24gc2V0IHZhbGlkX2lkID0gMiB3aGVyZSBzbGFfaWQgaW4gKHNlbGVjdCBpZCBmcm9tIHNsYSB3aGVyZSB2YWxpZF9pZCA9IDIpJywKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgICAgICAgICBTUUwgICA9PiAndXBkYXRlIGVzY2FsYXRpb24gc2V0IHZhbGlkX2lkID0gMyB3aGVyZSBzbGFfaWQgaW4gKHNlbGVjdCBpZCBmcm9tIHNsYSB3aGVyZSB2YWxpZF9pZCA9IDMpJywKICAgICAgICAgICAgICAgICk7ICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgICAgICAgICAgU1FMICAgPT4gJ3VwZGF0ZSBlc2NhbGF0aW9uIHNldCB2YWxpZF9pZCA9IDEgd2hlcmUgc2xhX2lkIGluIChzZWxlY3QgaWQgZnJvbSBzbGEgd2hlcmUgdmFsaWRfaWQgPSAxKScsCiAgICAgICAgICAgICAgICApOyAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgIyBnZXQgZXNjYWxhdGlvbiBmcm9tIGRiCiAgICAgICAgICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgICAgICAgICAgU1FMID0+ICdTRUxFQ1Qgc2xhX2lkLCAgbm90aWZ5X3R5cGUsIGxldmVsLCBub3RpZnlfdG8sIG5vdGlmeV9wZXJjLCB2YWxpZF9pZCBGUk9NIGVzY2FsYXRpb24gV0hFUkUgdmFsaWRfaWQgPSAxIGFuZCAgc2xhX2lkID0gPycsCiAgICAgICAgICAgICAgICBCaW5kID0+IFsgXCRQYXJhbXtTTEFJRH0gXSwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICAgICAgbXkgJUVTQ0xEYXRhOwogICAgICAgIG15IEBSb3c7CiAgICAgICAgd2hpbGUgKCBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICAgICAgJEVTQ0xEYXRheyRSb3dbMF19eyRSb3dbMV19eyRSb3dbMl19e05vdGlmeV9Ub30gICA9ICRSb3dbM107CiAgICAgICAgICAgICRFU0NMRGF0YXskUm93WzBdfXskUm93WzFdfXskUm93WzJdfXtOb3RpZnlfUGVyY30gPSAkUm93WzRdOwogICAgICAgICAgICAkRVNDTERhdGF7JFJvd1swXX17JFJvd1sxXX17JFJvd1syXX17VmFsaWRJRH0gPSAkUm93WzVdOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gJUVTQ0xEYXRhOwogICAgfQoKCgo9aXRlbSBFU0NMQWRkKCkKCmFkZCBhIGVzY2FsYXRpb24KCiAgICBteSAkU0xBSUQgPSAkU0xBT2JqZWN0LT5FU0NMQWRkKAogICAgICAgIFNMQUlEICAgICAgID0+IDEsICMjIyBGcm9tIFsgMSwgMiwgMyBdIGRlcGVuZHMgb24gdGlja2V0IFNMQUlELAogICAgICAgIFR5cGUgICAgICAgID0+ICdGUicsICMjIyBGcm9tIFtGUiwgVVQsIFNUXSwKICAgICAgICBMZXZlbCAgICAgICA9PiAxLCAjIyMgRnJvbSBbMSwgMiwgMyBdIGNhbiBiZSBpbmNyZWFzZWQsCiAgICAgICAgTm90aWZ5X1RvICAgPT4gUm9sZW5hbWUsCiAgICAgICAgTm90aWZ5X1BlcmMgPT4gNjAsICAjIGlmIHJlc3BvbnNlIGVzY2FsYXRpb24gaXMgNjAlIHJlYWNoZWQKICAgICAgICBWYWxpZElEICAgICA9PiAxLAogICAgICAgIAogICAgKTsKCj1jdXQKCnN1YiBFU0NMQWRkIHsKICAgICAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwogICAgICAgICAgICAKICAgICAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgICAgIGZvciBteSAkQXJndW1lbnQgKHF3KFNMQUlEIFR5cGUgTGV2ZWwgVmFsaWRJRCkpIHsKICAgICAgICAgICAgaWYgKCAhJFBhcmFteyRBcmd1bWVudH0gKSB7CiAgICAgICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJOZWVkICRBcmd1bWVudCEiLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAjIHNldCBkZWZhdWx0IHZhbHVlcwogICAgICAgICAgJFBhcmFte05vdGlmeV9Ub30gICB8fD0gJyc7CiAgICAgICAgICAgIAogICAgICAgICMgZmluZCBleGl0aW5nIGVzY2xhdGlvbidzIHdpdGggdGhlIHNhbWUgbmFtZQogICAgICAgICAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICAgICAgICAgIFNRTCAgID0+ICdTRUxFQ1Qgc2xhX2lkIEZST00gZXNjYWxhdGlvbiBXSEVSRSBzbGFfaWQgPSA/IGFuZCBub3RpZnlfdHlwZSA9ID8gYW5kIGxldmVsID0gPycsCiAgICAgICAgICAgICAgICBCaW5kICA9PiBbIFwkUGFyYW17U0xBSUR9LCBcJFBhcmFte1R5cGV9LCBcJFBhcmFte0xldmVsfSBdLAogICAgICAgICAgICAgICAgTGltaXQgPT4gMSwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgICAgICAgICBteSAkTm9BZGQ7CiAgICAgICAgICAgIHdoaWxlICggJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICAgICAgICAgICROb0FkZCA9IDE7CiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgIyBhYm9ydCBpbnNlcnQgb2YgbmV3IHNsYSwgaWYgbmFtZSBhbHJlYWR5IGV4aXN0cwogICAgICAgICAgICBpZiAoJE5vQWRkKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgICAgICAgICAgICAgIFNRTCAgID0+ICdERUxFVEUgRlJPTSBlc2NhbGF0aW9uIFdIRVJFIHNsYV9pZCA9ID8gYW5kIG5vdGlmeV90eXBlID0gPyBhbmQgbGV2ZWwgPSA/JywKICAgICAgICAgICAgICAgICAgICBCaW5kICA9PiBbIFwkUGFyYW17U0xBSUR9LCBcJFBhcmFte1R5cGV9LCBcJFBhcmFte0xldmVsfSBdLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdW5kZWYgJE5vQWRkOwogICAgICAgICAgCiAgICAgICAgIyBhZGQgZXNjYWxhdGlvbiB0byBkYXRhYmFzZQogICAgICAgICAgICByZXR1cm4gaWYgISRTZWxmLT57REJPYmplY3R9LT5EbygKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgU1FMID0+ICdJTlNFUlQgSU5UTyBlc2NhbGF0aW9uICcKICAgICAgICAgICAgIC4gICcoc2xhX2lkLCAgbm90aWZ5X3R5cGUsIGxldmVsLCBub3RpZnlfdG8sICcKICAgICAgICAgICAgIC4gJ25vdGlmeV9wZXJjLCB2YWxpZF9pZCkgVkFMVUVTICcKICAgICAgICAgICAgIC4gJyg/LCA/LCA/LCA/LCA/LCA/KScsCiAgICAgICAgICAgICBCaW5kID0+IFsKICAgICAgICAgICAgIFwkUGFyYW17U0xBSUR9LCBcJFBhcmFte1R5cGV9LCBcJFBhcmFte0xldmVsfSwgXCRQYXJhbXtOb3RpZnlfVG99LCBcJFBhcmFte05vdGlmeV9QZXJjfSwgXCRQYXJhbXtWYWxpZElEfSwKICAgICAgICAgICAgIF0sCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICAjIGdldCBpbnNlcnRlZCBkYXRhCiAgICAgICAgICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgICAgICAgICAgU1FMICAgPT4gJ1NFTEVDVCBzbGFfaWQgRlJPTSBlc2NhbGF0aW9uIFdIRVJFIHNsYV9pZCA9ID8gYW5kIG5vdGlmeV90eXBlID0gPyBhbmQgbGV2ZWwgPSA/JywKICAgICAgICAgICAgICAgICBCaW5kICA9PiBbIFwkUGFyYW17U0xBSUR9LCBcJFBhcmFte1R5cGV9LCBcJFBhcmFte0xldmVsfSBdLAogICAgICAgICAgICAgICAgIExpbWl0ID0+IDEsCiAgICAgICAgICAgICk7CiAgICAgCiAgICAgICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICAgICAgICAgIG15ICRTTEFJRDsKICAgICAgICAgICAgd2hpbGUgKCBteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICAgICAgICAgICRTTEFJRCA9ICRSb3dbMF07CiAgICAgICAgICAgIH0KICAgICAgIAogICAgICAgICMgY2hlY2sgZXNjYWxhdGlvbiBzbGFfaWQKICAgICAgICAgICAgaWYgKCAhJFNMQUlEICkgewogICAgICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiQ2FuJ3QgZmluZCBTTEFJRCBmb3IgJyRQYXJhbXtTTEFJRH0nISIsCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICN1cGRhdGUgZXNjYWxhdGlvbiBzZXQgdmFsaWRfaWQgPSAyIHdoZXJlIHNsYV9pZCBpbiAoc2VsZWN0IGlkIGZyb20gc2xhIHdoZXJlIHZhbGlkX2lkID0gMik7CiAgICAgICAgICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgICAgICAgICAgU1FMICAgPT4gJ3VwZGF0ZSBlc2NhbGF0aW9uIHNldCB2YWxpZF9pZCA9IDIgd2hlcmUgc2xhX2lkIGluIChzZWxlY3QgaWQgZnJvbSBzbGEgd2hlcmUgdmFsaWRfaWQgPSAyKScsCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgICAgICAgICAgU1FMICAgPT4gJ3VwZGF0ZSBlc2NhbGF0aW9uIHNldCB2YWxpZF9pZCA9IDMgd2hlcmUgc2xhX2lkIGluIChzZWxlY3QgaWQgZnJvbSBzbGEgd2hlcmUgdmFsaWRfaWQgPSAzKScsCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgIAogICAgICAgIHJldHVybiAkU0xBSUQ7CiAgICB9CgoxOwoKPWJhY2sKCj1oZWFkMSBURVJNUyBBTkQgQ09ORElUSU9OUwoKVGhpcyBzb2Z0d2FyZSBpcyBwYXJ0IG9mIHRoZSBPVFJTIHByb2plY3QgKEw8aHR0cDovL290cnMub3JnLz4pLgoKVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQpkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgTDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQ+LgoKPWN1dAoKPWhlYWQxIFZFUlNJT04KCiRSZXZpc2lvbjogMS4wICQgJERhdGU6IDIwMTMvMDIvMDQgMTQ6Mzg6NTcgJAoKPWN1dAo=</File>
        <File Location="Kernel/Output/HTML/Standard/AdminESCL.dtl" Permission="644" Encode="Base64">IyAtLQojIEFkbWluRVNDTC5kdGwgLSBwcm92aWRlcyBIVE1MIGZvcm0gZm9yIEFkbWluRVNDTAojIENvcHlyaWdodCAoQykgMjAwMS0yMDEwIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8KIyAtLQojICRJZDogQWRtaW5FU0NMLmR0bCx2IDEuOCAyMDEwLzEyLzA2IDE2OjUyOjUzIGVuIEV4cCAkCiMgJE9sZElkOiBBZG1pbkVTQ0wuZHRsLHYgMS4zNiAyMDEwLzExLzA1IDE3OjM4OjE2IHViIEV4cCAkCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgo8IS0tIGR0bDpibG9jazpPdmVydmlldyAtLT4KPGRpdiBjbGFzcz0iTWFpbkJveCBBUklBUm9sZU1haW4gTGF5b3V0Rml4ZWRTaWRlYmFyIFNpZGViYXJGaXJzdCI+CiAgICA8aDE+JFRleHR7IlNMQSBFc2NhbGF0aW9uIE1hbmFnZW1lbnQifTwvaDE+CgogICA8ZGl2IGNsYXNzPSJTaWRlYmFyQ29sdW1uIj4KCjwhLS0gZHRsOmJsb2NrOkFjdGlvbkxpc3QgLS0+CiAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMj4kVGV4dHsiQWN0aW9ucyJ9PC9oMj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0iQWN0aW9uTGlzdCI+Cgo8IS0tIGR0bDpibG9jazpBY3Rpb25PdmVydmlldyAtLT4KICAgICAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn0iIGNsYXNzPSJDYWxsRm9yQWN0aW9uIj48c3Bhbj4kVGV4dHsiR28gRXNjYWxhdGlvbiBvdmVydmlldyJ9PC9zcGFuPjwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgo8IS0tIGR0bDpibG9jazpBY3Rpb25PdmVydmlldyAtLT4KCjwhLS0gZHRsOmJsb2NrOkFjdGlvbkFkZCAtLT4KICAgICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj1BZG1pbiIgY2xhc3M9IkNhbGxGb3JBY3Rpb24iPjxzcGFuPiRUZXh0eyJHbyB0byBBZG1pbiBvdmVydmlldyJ9PC9zcGFuPjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CjwhLS0gZHRsOmJsb2NrOkFjdGlvbkFkZCAtLT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgPC9kaXY+CjwhLS0gZHRsOmJsb2NrOkFjdGlvbkxpc3QgLS0+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJDb250ZW50Q29sdW1uIj4KICAgICAgICA8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPgo8IS0tIGR0bDpibG9jazpPdmVydmlld0xpc3QgLS0+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDI+JFRleHR7Ikxpc3QifTwvaDI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4KCiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9IkRhdGFUYWJsZSI+CiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+JFRleHR7IlNMQSJ9PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4kVGV4dHsiU2VydmljZSJ9PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4kVGV4dHsiQ29tbWVudCJ9PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4kVGV4dHsiVmFsaWQifTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+JFRleHR7IkNoYW5nZWQifTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+JFRleHR7IkNyZWF0ZWQifTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CjwhLS0gZHRsOmJsb2NrOk5vRGF0YUZvdW5kTXNnIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iNiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7Ik5vIGRhdGEgZm91bmQuIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CjwhLS0gZHRsOmJsb2NrOk5vRGF0YUZvdW5kTXNnIC0tPgo8IS0tIGR0bDpibG9jazpPdmVydmlld0xpc3RSb3cgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48YSBjbGFzcz0iQXNCbG9jayIgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj0kRW52eyJBY3Rpb24ifTtTdWJhY3Rpb249RVNDTEVkaXQ7U0xBSUQ9JExRRGF0YXsiU0xBSUQifSI+JFFEYXRheyJOYW1lIn08L2E+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4kVGV4dHsiJERhdGF7IlNlcnZpY2UifSJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCB0aXRsZT0iJFFEYXRheyJDb21tZW50In0iPiRRRGF0YXsiQ29tbWVudCIsIjI2In08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiRUZXh0eyIkRGF0YXsiVmFsaWQifSJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4kVGltZVNob3J0eyIkUURhdGF7IkNoYW5nZVRpbWUifSJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4kVGltZVNob3J0eyIkUURhdGF7IkNyZWF0ZVRpbWUifSJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdMaXN0Um93IC0tPgogICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICA8L2Rpdj4KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdMaXN0IC0tPgoKPCEtLSBkdGw6YmxvY2s6RVNDTEVkaXQgLS0+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+CjwhLS0gZHRsOmJsb2NrOkhlYWRlckVkaXQgLS0+CiAgICAgICAgICAgICAgICA8aDI+JFRleHR7IlNMQSBFc2NhbGF0aW9uIE1hdHJpeCJ9PC9oMj4KPCEtLSBkdGw6YmxvY2s6SGVhZGVyRWRpdCAtLT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPgoKICAgICAgICAgICAgICAgIDxmb3JtIGFjdGlvbj0iJEVudnsiQ0dJSGFuZGxlIn0iIG1ldGhvZD0icG9zdCIgY2xhc3M9IlZhbGlkYXRlIj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJBY3Rpb24iIHZhbHVlPSIkRW52eyJBY3Rpb24ifSIvPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlN1YmFjdGlvbiIgdmFsdWU9IkVTQ0xTYXZlIi8+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iU0xBSUQiIHZhbHVlPSIkUURhdGF7IlNMQUlEIn0iLz4KICAgICAgICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3M9IlRhYmxlTGlrZSI+CgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJOYW1lIj4kVGV4dHsiU0xBIn06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHJlYWRvbmx5PSJyZWFkb25seSIgbmFtZT0iTmFtZSIgaWQ9Ik5hbWUiIHZhbHVlPSIkUURhdGF7Ik5hbWUifSIgY2xhc3M9Ilc1MHBjIFZhbGlkYXRlX1JlcXVpcmVkICRRRGF0YXsiTmFtZUludmFsaWQifSIgbWF4bGVuZ3RoPSIyMDAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Ik5hbWVFcnJvciIgY2xhc3M9IlRvb2x0aXBFcnJvck1lc3NhZ2UiPjxwPiRUZXh0eyJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLiJ9PC9wPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iTmFtZVNlcnZlckVycm9yIiBjbGFzcz0iVG9vbHRpcEVycm9yTWVzc2FnZSI+PHA+JFRleHR7IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIn08L3A+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiMgLS0tCiMgSVRTTQojIC0tLQoKICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iRmlyc3RSZXNwb25zZVRpbWUiPiRUZXh0eyJGaXJzdCByZXNwb25zZSB0aW1lIn0gKCRUZXh0eyJtaW51dGVzIn0pOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiByZWFkb25seT0icmVhZG9ubHkiIG5hbWU9IkZpcnN0UmVzcG9uc2VUaW1lIiBpZD0iRmlyc3RSZXNwb25zZVRpbWUiIHZhbHVlPSIkUURhdGF7IkZpcnN0UmVzcG9uc2VUaW1lIn0iIGNsYXNzPSJXNTBweCBWYWxpZGF0ZV9OdW1iZXIiIG1heGxlbmd0aD0iMTAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9IkZpcnN0UmVzcG9uc2VUaW1lRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiUGxlYXNlIHdyaXRlIG9ubHkgbnVtYmVycyEifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxsYWJlbD4kVGV4dHsiTm90aWZ5IEkgIn08L2xhYmVsPjxsYWJlbCBmb3I9IkZpcnN0UmVzcG9uc2VSb2xlMSI+PC9sYWJlbD4gJERhdGF7IkZpcnN0UmVzcG9uc2VSb2xlMU9wdGlvblN0cmcifTxsYWJlbCBmb3I9IkZpcnN0UmVzcG9uc2VOb3RpZnkxIj48L2xhYmVsPiAkRGF0YXsiRmlyc3RSZXNwb25zZU5vdGlmeTFPcHRpb25TdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+JFRleHR7Ik5vdGlmeSBJSSAifTwvbGFiZWw+PGxhYmVsIGZvcj0iRmlyc3RSZXNwb25zZVJvbGUyIj48L2xhYmVsPiAkRGF0YXsiRmlyc3RSZXNwb25zZVJvbGUyT3B0aW9uU3RyZyJ9PGxhYmVsIGZvcj0iRmlyc3RSZXNwb25zZU5vdGlmeTIiPjwvbGFiZWw+ICREYXRheyJGaXJzdFJlc3BvbnNlTm90aWZ5Mk9wdGlvblN0cmcifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD4kVGV4dHsiTm90aWZ5IElJSSAifTwvbGFiZWw+PGxhYmVsIGZvcj0iRmlyc3RSZXNwb25zZVJvbGUzIj48L2xhYmVsPiAkRGF0YXsiRmlyc3RSZXNwb25zZVJvbGUzT3B0aW9uU3RyZyJ9PGxhYmVsIGZvcj0iRmlyc3RSZXNwb25zZU5vdGlmeTMiPjwvbGFiZWw+ICREYXRheyJGaXJzdFJlc3BvbnNlTm90aWZ5M09wdGlvblN0cmcifSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiMCA9IG5vIGVzY2FsYXRpb24ifSAtIDI0ICRUZXh0eyJob3VycyJ9ID0gMTQ0MCAkVGV4dHsibWludXRlcyJ9IC0gJFRleHR7Ik9ubHkgYnVzaW5lc3MgaG91cnMgYXJlIGNvdW50ZWQuIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IlVwZGF0ZVRpbWUiPiRUZXh0eyJVcGRhdGUgdGltZSJ9ICgkVGV4dHsibWludXRlcyJ9KTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgcmVhZG9ubHk9InJlYWRvbmx5IiBuYW1lPSJVcGRhdGVUaW1lIiBpZD0iVXBkYXRlVGltZSIgdmFsdWU9IiRRRGF0YXsiVXBkYXRlVGltZSJ9IiBjbGFzcz0iVzUwcHggVmFsaWRhdGVfTnVtYmVyIiBtYXhsZW5ndGg9IjEwIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJVcGRhdGVUaW1lRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiUGxlYXNlIHdyaXRlIG9ubHkgbnVtYmVycyEifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxsYWJlbD4kVGV4dHsiTm90aWZ5IEkgIn08L2xhYmVsPjxsYWJlbCBmb3I9IlVwZGF0ZVJvbGUxIj48L2xhYmVsPiAkRGF0YXsiVXBkYXRlUm9sZTFPcHRpb25TdHJnIn08bGFiZWwgZm9yPSJVcGRhdGVOb3RpZnkxIj48L2xhYmVsPiAkRGF0YXsiVXBkYXRlTm90aWZ5MU9wdGlvblN0cmcifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD4kVGV4dHsiTm90aWZ5IElJICJ9PC9sYWJlbD48bGFiZWwgZm9yPSJVcGRhdGVSb2xlMiI+PC9sYWJlbD4gJERhdGF7IlVwZGF0ZVJvbGUyT3B0aW9uU3RyZyJ9PGxhYmVsIGZvcj0iVXBkYXRlTm90aWZ5MiI+PC9sYWJlbD4gJERhdGF7IlVwZGF0ZU5vdGlmeTJPcHRpb25TdHJnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+JFRleHR7Ik5vdGlmeSBJSUkgIn08L2xhYmVsPjxsYWJlbCBmb3I9IlVwZGF0ZVJvbGUzIj48L2xhYmVsPiAkRGF0YXsiVXBkYXRlUm9sZTNPcHRpb25TdHJnIn08bGFiZWwgZm9yPSJVcGRhdGVOb3RpZnkzIj48L2xhYmVsPiAkRGF0YXsiVXBkYXRlTm90aWZ5M09wdGlvblN0cmcifSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiMCA9IG5vIGVzY2FsYXRpb24ifSAtIDI0ICRUZXh0eyJob3VycyJ9ID0gMTQ0MCAkVGV4dHsibWludXRlcyJ9IC0gJFRleHR7Ik9ubHkgYnVzaW5lc3MgaG91cnMgYXJlIGNvdW50ZWQuIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IlNvbHV0aW9uVGltZSI+JFRleHR7IlNvbHV0aW9uIHRpbWUifSAoJFRleHR7Im1pbnV0ZXMifSk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHJlYWRvbmx5PSJyZWFkb25seSIgbmFtZT0iU29sdXRpb25UaW1lIiBpZD0iU29sdXRpb25UaW1lIiB2YWx1ZT0iJFFEYXRheyJTb2x1dGlvblRpbWUifSIgY2xhc3M9Ilc1MHB4IFZhbGlkYXRlX051bWJlciIgbWF4bGVuZ3RoPSIxMCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iU29sdXRpb25UaW1lRXJyb3IiIGNsYXNzPSJUb29sdGlwRXJyb3JNZXNzYWdlIj48cD4kVGV4dHsiUGxlYXNlIHdyaXRlIG9ubHkgbnVtYmVycyEifTwvcD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxsYWJlbD4kVGV4dHsiTm90aWZ5IEkgIn08L2xhYmVsPjxsYWJlbCBmb3I9IlNvbHV0aW9uUm9sZTEiPjwvbGFiZWw+ICREYXRheyJTb2x1dGlvblJvbGUxT3B0aW9uU3RyZyJ9PGxhYmVsIGZvcj0iU29sdXRpb25Ob3RpZnkxIj48L2xhYmVsPiAkRGF0YXsiU29sdXRpb25Ob3RpZnkxT3B0aW9uU3RyZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPiRUZXh0eyJOb3RpZnkgSUkgIn08L2xhYmVsPjxsYWJlbCBmb3I9IlNvbHV0aW9uUm9sZTIiPjwvbGFiZWw+ICREYXRheyJTb2x1dGlvblJvbGUyT3B0aW9uU3RyZyJ9PGxhYmVsIGZvcj0iU29sdXRpb25Ob3RpZnkyIj48L2xhYmVsPiAkRGF0YXsiU29sdXRpb25Ob3RpZnkyT3B0aW9uU3RyZyJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPiRUZXh0eyJOb3RpZnkgSUlJICJ9PC9sYWJlbD48bGFiZWwgZm9yPSJTb2x1dGlvblJvbGUzIj48L2xhYmVsPiAkRGF0YXsiU29sdXRpb25Sb2xlM09wdGlvblN0cmcifTxsYWJlbCBmb3I9IlNvbHV0aW9uTm90aWZ5MyI+PC9sYWJlbD4gJERhdGF7IlNvbHV0aW9uTm90aWZ5M09wdGlvblN0cmcifSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiMCA9IG5vIGVzY2FsYXRpb24ifSAtIDI0ICRUZXh0eyJob3VycyJ9ID0gMTQ0MCAkVGV4dHsibWludXRlcyJ9IC0gJFRleHR7Ik9ubHkgYnVzaW5lc3MgaG91cnMgYXJlIGNvdW50ZWQuIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KIyAtLS0KIyBJVFNNCiMgLS0tCgojIC0tLQoKPCEtLSBkdGw6YmxvY2s6U0xBSXRlbSAtLT4KPCEtLSBkdGw6YmxvY2s6SW5wdXRLZXkgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IiRRRGF0YXsiTmFtZSJ9Ij4kVGV4dHsiJERhdGF7IkxhYmVsIn0ifSAkVGV4dHsiJERhdGF7IktleSJ9In06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9IiRRRGF0YXsiTmFtZSJ9IiBpZD0iJFFEYXRheyJOYW1lIn0iIHZhbHVlPSIkUURhdGF7IlNlbGVjdGVkSUQifSIgY2xhc3M9Ilc1MHBjIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CjwhLS0gZHRsOmJsb2NrOklucHV0S2V5IC0tPgo8IS0tIGR0bDpibG9jazpJbnB1dCAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iJFFEYXRheyJOYW1lIn0iPiRUZXh0eyIkRGF0YXsiTGFiZWwifSJ9OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZpZWxkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkUURhdGF7Ik5hbWUifSIgaWQ9IiRRRGF0YXsiTmFtZSJ9IiB2YWx1ZT0iJFFEYXRheyJTZWxlY3RlZElEIn0iIGNsYXNzPSJXNTBwYyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyIkRGF0YXsiRGVzYyJ9In0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KPCEtLSBkdGw6YmxvY2s6SW5wdXQgLS0+CjwhLS0gZHRsOmJsb2NrOlRleHRBcmVhIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSIkUURhdGF7Ik5hbWUifSI+JFRleHR7IiREYXRheyJMYWJlbCJ9In06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9IiRRRGF0YXsiTmFtZSJ9IiBpZD0iJFFEYXRheyJOYW1lIn0iIHJvd3M9IiRRRGF0YXsiUm93cyJ9IiBjb2xzPSIkUURhdGF7IkNvbHMifSI+JFFEYXRheyJTZWxlY3RlZElEIn08L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IkZpZWxkRXhwbGFuYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyIkRGF0YXsiRGVzYyJ9In0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KCjwhLS0gZHRsOmJsb2NrOlRleHRBcmVhIC0tPgo8IS0tIGR0bDpibG9jazpPcHRpb24gLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9IiRRRGF0YXsiTmFtZSJ9Ij4kVGV4dHsiJERhdGF7IkxhYmVsIn0ifSAkVGV4dHsiJERhdGF7IktleSJ9In06PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJERhdGF7Ik9wdGlvbiJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iRmllbGRFeHBsYW5hdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7IiREYXRheyJEZXNjIn0ifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2Pgo8IS0tIGR0bDpibG9jazpPcHRpb24gLS0+CjwhLS0gZHRsOmJsb2NrOlVwbG9hZCAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iJFFEYXRheyJOYW1lIn0iPiRUZXh0eyIkRGF0YXsiTGFiZWwifSJ9ICRUZXh0eyIkRGF0YXsiS2V5In0ifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0iJFFEYXRheyJOYW1lIn0iIGlkPSIkUURhdGF7Ik5hbWUifSIgdHlwZT0iZmlsZSIgY2xhc3M9ImZpeGVkIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIiPiRRRGF0YXsiRmlsZW5hbWUifTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KPCEtLSBkdGw6YmxvY2s6VXBsb2FkIC0tPgo8IS0tIGR0bDpibG9jazpQYXNzd29yZCAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iJFFEYXRheyJOYW1lIn0iPiRUZXh0eyIkRGF0YXsiTGFiZWwifSJ9ICRUZXh0eyIkRGF0YXsiS2V5In0ifTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJGaWVsZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9IiRRRGF0YXsiTmFtZSJ9IiBpZD0iJFFEYXRheyJOYW1lIn0iIHZhbHVlPSIiIGNsYXNzPSJXNTBwYyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2Pgo8IS0tIGR0bDpibG9jazpQYXNzd29yZCAtLT4KPCEtLSBkdGw6YmxvY2s6U0xBSXRlbSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmllbGQgU3BhY2luZ1RvcCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJQcmltYXJ5IiB0eXBlPSJzdWJtaXQiIHZhbHVlPSIkVGV4dHsiU3VibWl0In0iPiRUZXh0eyJTdWJtaXQifTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRleHR7Im9yIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn0iPiRUZXh0eyJDYW5jZWwifTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L2Rpdj4KPCEtLSBkdGw6YmxvY2s6RVNDTEVkaXQgLS0+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4KPC9kaXY+CjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3IC0tPgo=</File>
        <File Location="bin/otrs.Escalation.pl" Permission="755" Encode="Base64">IyEvdXNyL2Jpbi9wZXJsIC13CiMgLS0KIyBvdHJzLkVzY2FsYXRpb24ucGwgLSBDbGVhbiB0aGUgdGlja2V0IGFyY2hpdmUgZmxhZwojIENvcHlyaWdodCAoQykgMjAwMS0yMDEwIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8KIyAtLQojICRJZDogb3Rycy5Fc2NhbGF0aW9uLnBsLHYgMS4wIDIwMTMvMDIvMDYgMTc6NDk6MjAgZW4gRXhwICQKIyAtLQojIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiMgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQUZGRVJPIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CiMgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKIyBhbnkgbGF0ZXIgdmVyc2lvbi4KIwojIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAojIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiMgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQojIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiMKIyBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKIyBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbTsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZQojIEZvdW5kYXRpb24sIEluYy4sIDU5IFRlbXBsZSBQbGFjZSwgU3VpdGUgMzMwLCBCb3N0b24sIE1BICAwMjExMS0xMzA3ICBVU0EKIyBvciBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgojdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKIyB1c2UgLi4vIGFzIGxpYiBsb2NhdGlvbgp1c2UgRmlsZTo6QmFzZW5hbWU7CnVzZSBGaW5kQmluIHF3KCRSZWFsQmluKTsKdXNlIGxpYiBkaXJuYW1lKCRSZWFsQmluKTsKCgoKdXNlIEtlcm5lbDo6Q29uZmlnOwp1c2UgS2VybmVsOjpTeXN0ZW06OkVuY29kZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpMb2c7CnVzZSBLZXJuZWw6OlN5c3RlbTo6VGltZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpEQjsKdXNlIEtlcm5lbDo6U3lzdGVtOjpNYWluOwp1c2UgS2VybmVsOjpTeXN0ZW06OlRpY2tldDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpRdWV1ZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpHcm91cDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpTTEE7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RW1haWw7CnVzZSAgS2VybmVsOjpTeXN0ZW06OlVzZXI7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RXNjYWxhdGlvbjsKCgoKIyBjcmVhdGUgY29tbW9uIG9iamVjdHMKbXkgJUNvbW1vbk9iamVjdCA9ICgpOwokQ29tbW9uT2JqZWN0e0NvbmZpZ09iamVjdH0gPSBLZXJuZWw6OkNvbmZpZy0+bmV3KCk7CiRDb21tb25PYmplY3R7RW5jb2RlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpFbmNvZGUtPm5ldyglQ29tbW9uT2JqZWN0KTsKJENvbW1vbk9iamVjdHtMb2dPYmplY3R9ICAgID0gS2VybmVsOjpTeXN0ZW06OkxvZy0+bmV3KAogICAgTG9nUHJlZml4ID0+ICdPVFJTLW90cnMuRXNjYWxhdGlvbk1hdHJpeC5wbCcsCiAgICAlQ29tbW9uT2JqZWN0LAopOwokQ29tbW9uT2JqZWN0e01haW5PYmplY3R9ICAgPSBLZXJuZWw6OlN5c3RlbTo6TWFpbi0+bmV3KCVDb21tb25PYmplY3QpOwokQ29tbW9uT2JqZWN0e1RpbWVPYmplY3R9ICAgPSBLZXJuZWw6OlN5c3RlbTo6VGltZS0+bmV3KCVDb21tb25PYmplY3QpOwokQ29tbW9uT2JqZWN0e0RCT2JqZWN0fSAgICAgPSBLZXJuZWw6OlN5c3RlbTo6REItPm5ldyglQ29tbW9uT2JqZWN0KTsKJENvbW1vbk9iamVjdHtUaWNrZXRPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OlRpY2tldC0+bmV3KCVDb21tb25PYmplY3QpOwokQ29tbW9uT2JqZWN0e1F1ZXVlT2JqZWN0fSAgPSBLZXJuZWw6OlN5c3RlbTo6UXVldWUtPm5ldyglQ29tbW9uT2JqZWN0KTsKJENvbW1vbk9iamVjdHtHcm91cE9iamVjdH0gID0gS2VybmVsOjpTeXN0ZW06Okdyb3VwLT5uZXcoJUNvbW1vbk9iamVjdCk7CiRDb21tb25PYmplY3R7U0xBT2JqZWN0fSAgICA9IEtlcm5lbDo6U3lzdGVtOjpTTEEtPm5ldyglQ29tbW9uT2JqZWN0KTsKJENvbW1vbk9iamVjdHtFU0NMT2JqZWN0fSAgID0gS2VybmVsOjpTeXN0ZW06OkVzY2FsYXRpb24tPm5ldyglQ29tbW9uT2JqZWN0KTsKJENvbW1vbk9iamVjdHtFbWFpbE9iamVjdH0gID0gS2VybmVsOjpTeXN0ZW06OkVtYWlsLT5uZXcoJUNvbW1vbk9iamVjdCk7CiRDb21tb25PYmplY3R7VXNlck9iamVjdH0gICA9IEtlcm5lbDo6U3lzdGVtOjpVc2VyLT5uZXcoJUNvbW1vbk9iamVjdCk7CgoKIyBkZWNsYXIgdmFyaWFibGUgdG8gaG9sZCBlc2NhbGF0aW9uIGFuZCByb2xlIHBhcmFtZXRlcgpteSAlRVNDTERhdGE7Cm15ICVSb2xlcyA9ICRDb21tb25PYmplY3R7R3JvdXBPYmplY3R9LT5Sb2xlTGlzdCggVmFsaWQgPT4gMSApOwpteSAkUm9sZXNSZWYgPSBcJVJvbGVzOwpteSAlUm9sZUFjdDsKCgojZ2V0IHRpY2tldCBJRHMuIEZpbHRlciBuZWVkcyB0byBiZSBtb2RpZmllZC4gQFRpY2tldElEcyBpcyB0aGUgbGlzdCBvZiBJRHMgd2hpY2ggd2lsbCBiZSBjaGVja2VkLgpteSBAVGlja2V0SURzID0gJENvbW1vbk9iamVjdHtUaWNrZXRPYmplY3R9LT5UaWNrZXRTZWFyY2goCglSZXN1bHQgICAgICAgICAgCQkgPT4gJ0FSUkFZJywKCVNvcnRCeSAgICAgICAgICAJCSA9PiAnQWdlJywKCU9yZGVyQnkgICAgICAgICAJCSA9PiAnRG93bicsCglTdGF0ZXMgICAJCQkgPT4gWyduZXcnLCAnb3BlbiddLAoJVXNlcklEICAgICAgICAgIAkJID0+IDEsCglMaW1pdCAgICAgICAgICAgCQkgPT4gMjAwLAopOwoKCmZvcmVhY2ggbXkgJFRJRCAoQFRpY2tldElEcykKewoJI2dldCB0aWNrZXQgaW5mby4KCW15ICVUaWNrZXQgPSAkQ29tbW9uT2JqZWN0e1RpY2tldE9iamVjdH0tPlRpY2tldEdldCgKCQlUaWNrZXRJRCA9PiAkVElELAoJKTsKCgkjZmluZCB0aWNrZXQgU0xBIHR5cGUuCglteSAkdGlja2V0U0xBSUQgPSAkVGlja2V0e1NMQUlEfTsKCW15ICR0aWNrZXRHUlBJRCA9ICRUaWNrZXR7R3JvdXBJRH07CglteSAkVGt0T3duZXIgPSAkVGlja2V0e093bmVySUR9OwoJbXkgJFRrdE51bWJlciA9ICRUaWNrZXR7VGlja2V0TnVtYmVyfTsKCW15ICRUa3RRdWV1ZUlEID0gJFRpY2tldHtRdWV1ZUlEfTsKCQoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjICAgCgkKICAgICAgCglpZiAoJHRpY2tldFNMQUlEKSAKCXsKCSAgICAKCSAgICAjIERlZmluZSBzb21lIGdsb2JhbCB2YXJpYWJsZSB0byBpbml0aWFsaXNlZCB2YWx1ZSBmcm9tIERCCgkgICAgCgkgICAgb3VyICRGUl9Ob3RpZnlUb18xOwoJICAgIG91ciAkRlJfTm90aWZ5UGVyY18xOwoJICAgIG91ciAkRlJfTm90aWZ5VG9fMjsKCSAgICBvdXIgJEZSX05vdGlmeVBlcmNfMjsKCSAgICBvdXIgJEZSX05vdGlmeVRvXzM7CgkgICAgb3VyICRGUl9Ob3RpZnlQZXJjXzM7CgkgICAgCgkgICAgb3VyICRVVF9Ob3RpZnlUb18xOwoJICAgIG91ciAkVVRfTm90aWZ5UGVyY18xOwoJICAgIG91ciAkVVRfTm90aWZ5VG9fMjsKCSAgICBvdXIgJFVUX05vdGlmeVBlcmNfMjsKCSAgICBvdXIgJFVUX05vdGlmeVRvXzM7CgkgICAgb3VyICRVVF9Ob3RpZnlQZXJjXzM7CgkgICAgCgkgICAgb3VyICRTVF9Ob3RpZnlUb18xOwoJICAgIG91ciAkU1RfTm90aWZ5UGVyY18xOwoJICAgIG91ciAkU1RfTm90aWZ5VG9fMjsKCSAgICBvdXIgJFNUX05vdGlmeVBlcmNfMjsKCSAgICBvdXIgJFNUX05vdGlmeVRvXzM7CgkgICAgb3VyICRTVF9Ob3RpZnlQZXJjXzM7CgkgICAgCgkgICAgIyBkZWNsYXIgdmFyaWFibGUgdG8gaG9sZCBhY3R1YWwgcm9sZWlkIHJlbGF0ZWQgdG8gdGhlIHRpY2tldAoJICAgIG15ICVSb2xlaWQ7CgkgICAgCgkgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgICAKCSAgICAjIGdldCBlc2NhbGF0aW9uIG1hdHJpeAoJICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkgICAgJUVTQ0xEYXRhID0gJENvbW1vbk9iamVjdHtFU0NMT2JqZWN0fS0+RVNDTEdldCgKCSAgICBTTEFJRCAgPT4gJHRpY2tldFNMQUlELAoJICAgIFVzZXJJRCA9PiAxLAoJICAgICk7CgkgICAgCgkgICAgbXkgQFR5cGVhcnJheSA9IHF3KEZSIFVUIFNUKTsKCSAgICAKCSAgICBmb3JlYWNoIG15ICRUeXBlIChAVHlwZWFycmF5KQoJICAgIHsKCQkjIGNhbiBpbmNyZWFzZSBsZXZlbCBvZiBlc2NhbGF0aW9uCgkJZm9yZWFjaCBteSAkTGV2ZWwgKDEuLjMpCgkJewoJCSAjbXkgJFJlZiA9ICAkVHlwZSAuICJfTm90aWZ5VG9fIiAuICRMZXZlbDsKCQkgI215ICRSZWZQZXJjID0gJFR5cGUgLiAiX05vdGlmeVBlcmNfIiAuICRMZXZlbDsKCQkgIyQkUmVmID0gJEVTQ0xEYXRheyR0aWNrZXRTTEFJRH17JFR5cGV9eyRMZXZlbH17Tm90aWZ5X1RvfTsKCQkgIyQkUmVmUGVyYyA9ICRFU0NMRGF0YXskdGlja2V0U0xBSUR9eyRUeXBlfXskTGV2ZWx9e05vdGlmeV9QZXJjfTsKCQkgJHskVHlwZSAuICJfTm90aWZ5VG9fIiAuICRMZXZlbH0gPSAkRVNDTERhdGF7JHRpY2tldFNMQUlEfXskVHlwZX17JExldmVsfXtOb3RpZnlfVG99OwoJCSAkeyRUeXBlIC4gIl9Ob3RpZnlQZXJjXyIgLiAkTGV2ZWx9ID0gJEVTQ0xEYXRheyR0aWNrZXRTTEFJRH17JFR5cGV9eyRMZXZlbH17Tm90aWZ5X1BlcmN9OwoJCSAgICAKCQl9CgkgICAgfQoJICAgIAoJICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSAgICAjbGlzdCBvZiBhbGwgdXNlcnMgaW4gYSBncm91cCBhc3NvY2lhdGVkIHdpdGggdGlja2V0LWdyb3VwCgkgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJICAgIG15ICVHcm91cFVzZXIgPSAkQ29tbW9uT2JqZWN0e0dyb3VwT2JqZWN0fS0+R3JvdXBHcm91cE1lbWJlckxpc3QoIAoJCUdyb3VwSUQgPT4gJHRpY2tldEdSUElELAoJCVR5cGUgICAgPT4gJ21vdmVfaW50bycsCgkJUmVzdWx0ICA9PiAnSEFTSCcsCgkgICAgKTsKCSAgICAKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJICAgICMgZmluZGluZyByb2xlIGZvciBlYWNoIGdyb3VwIHVzZXIKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJICAgICAgICAKCSAgICBmb3JlYWNoIG15ICRrZXkgKGtleXMgJUdyb3VwVXNlcikKCSAgICB7CgkgICAgCW15IEBVc2VyUm9sZUFycmF5OwoJICAgICAgICAKCSAgICAJIyBnZXQgcm9sZSBpZHMgaW4gd2hpY2ggdGhlIHVzZXIgaXMgYSBtZW1iZXIgcm9sZWlkPT51c2VyaWQKCSAgICAJICAgbXkgJU1lbWJlclJvbGVpZCA9ICRDb21tb25PYmplY3R7R3JvdXBPYmplY3R9LT5Hcm91cFVzZXJSb2xlTWVtYmVyTGlzdCgKCSAgICAJICAgIFVzZXJJRCA9PiAka2V5LAoJICAgIAkgICAgUmVzdWx0ID0+ICdIQVNIJywKCSAgICAJKTsKCSAgICAJICAgIGlmICglTWVtYmVyUm9sZWlkKSB7CgkJCWZvcmVhY2ggbXkgJGlkIChrZXlzICVNZW1iZXJSb2xlaWQpCgkJCXsKCQkJICAgIHB1c2goQFVzZXJSb2xlQXJyYXksJGlkKTsKCQkJfQoJCQkkUm9sZWlkeyRrZXl9ID0gXEBVc2VyUm9sZUFycmF5OwoJCSAgICB9CgkgICAgfQoJCQoJICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMJCgkJCgkgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwkKCSAgICAjIHBvcHVsYXRlIHRoZSBtYWlsIGxpc3QKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJbXkgQEZSX05vdGlmeU1haWxfMTsKCQlteSBARlJfTm90aWZ5TWFpbF8yOwoJCW15IEBGUl9Ob3RpZnlNYWlsXzM7CgkJCgkJbXkgQFVUX05vdGlmeU1haWxfMTsKCQlteSBAVVRfTm90aWZ5TWFpbF8yOwoJCW15IEBVVF9Ob3RpZnlNYWlsXzM7CgkJCgkJbXkgQFNUX05vdGlmeU1haWxfMTsKCQlteSBAU1RfTm90aWZ5TWFpbF8yOwoJCW15IEBTVF9Ob3RpZnlNYWlsXzM7CgkJCgkJIyBmb3IgRlIgZmluZCB0aGUgbWFpbCBsaXN0CgkJI0ZSMQoJCUBGUl9Ob3RpZnlNYWlsXzEgPSBfR2V0dXNyaWQoJEZSX05vdGlmeVRvXzEpOwoJCSNGUjIKCQlARlJfTm90aWZ5TWFpbF8yID0gX0dldHVzcmlkKCRGUl9Ob3RpZnlUb18yKTsKCQlwdXNoKEBGUl9Ob3RpZnlNYWlsXzIsIEBGUl9Ob3RpZnlNYWlsXzEpOwoJCUBGUl9Ob3RpZnlNYWlsXzIgPSBfVW5pcXVlKFxARlJfTm90aWZ5TWFpbF8yKTsKCQkKCQkKCQkjRlIzCgkJQEZSX05vdGlmeU1haWxfMyA9IF9HZXR1c3JpZCgkRlJfTm90aWZ5VG9fMyk7CgkJcHVzaChARlJfTm90aWZ5TWFpbF8zLCBARlJfTm90aWZ5TWFpbF8yKTsKCQlARlJfTm90aWZ5TWFpbF8zID0gX1VuaXF1ZShcQEZSX05vdGlmeU1haWxfMyk7ICAgIAoJCQoJCSMgZm9yIFVUIGZpbmQgdGhlIG1haWwgbGlzdAoJCSNVVDEKCQlAVVRfTm90aWZ5TWFpbF8xID0gX0dldHVzcmlkKCRVVF9Ob3RpZnlUb18xKTsKCQkjVVQyCgkJQFVUX05vdGlmeU1haWxfMiA9IF9HZXR1c3JpZCgkVVRfTm90aWZ5VG9fMik7CgkJcHVzaChAVVRfTm90aWZ5TWFpbF8yLCBAVVRfTm90aWZ5TWFpbF8xKTsKCQlAVVRfTm90aWZ5TWFpbF8yID0gX1VuaXF1ZShcQFVUX05vdGlmeU1haWxfMik7CgkJI1VUMwoJCUBVVF9Ob3RpZnlNYWlsXzMgPSBfR2V0dXNyaWQoJFVUX05vdGlmeVRvXzMpOwoJCXB1c2goQFVUX05vdGlmeU1haWxfMywgQFVUX05vdGlmeU1haWxfMik7CgkJQFVUX05vdGlmeU1haWxfMyA9IF9VbmlxdWUoXEBVVF9Ob3RpZnlNYWlsXzMpOwoJICAgICAgICAKCQkjIGZvciBTVCBmaW5kIHRoZSBtYWlsIGxpc3QKCQkjU1QxCgkJQFNUX05vdGlmeU1haWxfMSA9IF9HZXR1c3JpZCgkU1RfTm90aWZ5VG9fMSk7CgkJI1NUMgoJCUBTVF9Ob3RpZnlNYWlsXzIgPSBfR2V0dXNyaWQoJFNUX05vdGlmeVRvXzIpOwoJCXB1c2goQFNUX05vdGlmeU1haWxfMiwgQFNUX05vdGlmeU1haWxfMSk7CgkJQFNUX05vdGlmeU1haWxfMiA9IF9VbmlxdWUoXEBTVF9Ob3RpZnlNYWlsXzIpOwoJCSNTVDMKCQlAU1RfTm90aWZ5TWFpbF8zID0gX0dldHVzcmlkKCRTVF9Ob3RpZnlUb18zKTsKCQlwdXNoKEBTVF9Ob3RpZnlNYWlsXzMsIEBTVF9Ob3RpZnlNYWlsXzIpOwoJCUBTVF9Ob3RpZnlNYWlsXzMgPSBfVW5pcXVlKFxAU1RfTm90aWZ5TWFpbF8zKTsKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSAgICAgICAgCgkgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSAgICAjIGZpbmQgU0xBIGRldGFpbHMgZm9yIGEgcGFydGljdWxhdCB0aWNrZXQKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJICAgICBteSAlU0xBRGF0YSA9ICRDb21tb25PYmplY3R7U0xBT2JqZWN0fS0+U0xBR2V0KAoJCVNMQUlEICA9PiAkdGlja2V0U0xBSUQsCgkJVXNlcklEID0+IDEsCgkJKTsKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkgICAgI3BlcmNlbnRhZ2UgY2FsY3VsYXRpb24gb2YgRlIgVVQgU1QKCSAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJCgkJCgkJIyMjIyMjIyMjIwoJCSNGUgoJCSMjIyMjIyMjIyMKCQkgICAgbXkgJEZpcnN0UmVzcFRpbWUgPSAkU0xBRGF0YXtGaXJzdFJlc3BvbnNlVGltZX07ICNpbiBtaW51dGVzCgkJICAgIG15ICRGaXJzdFJlc3BSZW1haW5pbmcgPSAkVGlja2V0e0ZpcnN0UmVzcG9uc2VUaW1lfTsgI2luIHNlY29uZHMKCQkgICAgbXkgJHBlcmNlbnRFbGFwc2VkRlI7CgkJaWYoJEZpcnN0UmVzcFJlbWFpbmluZyAmJiAkRmlyc3RSZXNwVGltZSl7CgkJICAgICNDYWxjdWxhdGUgcGVyY2VudCB0aW1lIGVsYXBzZWQKCQkgICAgJHBlcmNlbnRFbGFwc2VkRlIgPSAxMDAgLSAoKCgkRmlyc3RSZXNwUmVtYWluaW5nKS8oJEZpcnN0UmVzcFRpbWUgKiA2MCkpKjEwMCk7CgkJfQoJCWVsc2V7CgkJJHBlcmNlbnRFbGFwc2VkRlIgPSAtMTsKCQl9IAoJCQoJCWlmKCRGUl9Ob3RpZnlUb18xICYmICRGUl9Ob3RpZnlQZXJjXzEpIHsKCQkgICAgbXkgJFJvbGVOYW1lOwoJCSAgICBpZigkRlJfTm90aWZ5VG9fMSA9PSAtOTkpIHsKCQkJJFJvbGVOYW1lID0gJ293bmVyJzsKCQkgICAgfQoJCSAgICBlbHNlIHsKCQkJJFJvbGVOYW1lID0gJFJvbGVzeyRGUl9Ob3RpZnlUb18xfTsKCQkgICAgfQoJCSAgICBpZigoJEZSX05vdGlmeVBlcmNfMSA8PSAkcGVyY2VudEVsYXBzZWRGUikmJigkcGVyY2VudEVsYXBzZWRGUiA+PSAwKSl7CgkJCV9TZW5kTm90aWZpY2F0aW9uKFxARlJfTm90aWZ5TWFpbF8xLCRGUl9Ob3RpZnlQZXJjXzEsJFRJRCwnRmlyc3QgUmVzcG9uc2UgLUxldmVsMScsJHRpY2tldFNMQUlELCRSb2xlTmFtZSwkVGt0T3duZXIsJFRrdE51bWJlciwkcGVyY2VudEVsYXBzZWRGUiwnRlJOb3RpZnkxJywkVGt0UXVldWVJRCk7ICAKCQkgICAgfSAgCgkJfQoJCQoJCSMjRlIyCgkgICAgCWlmKCRGUl9Ob3RpZnlUb18yICYmICRGUl9Ob3RpZnlQZXJjXzIpIHsKCQkgICAgbXkgJFJvbGVOYW1lOwoJCSAgICBpZigkRlJfTm90aWZ5VG9fMiA9PSAtOTkpIHsKCQkJJFJvbGVOYW1lID0gJ293bmVyJzsKCQkgICAgfQoJCSAgICBlbHNlIHsKCQkJJFJvbGVOYW1lID0gJFJvbGVzeyRGUl9Ob3RpZnlUb18yfTsKCQkgICAgfQoJCSAgICBpZigoJEZSX05vdGlmeVBlcmNfMiA8PSAkcGVyY2VudEVsYXBzZWRGUikmJigkcGVyY2VudEVsYXBzZWRGUiA+PSAwKSl7CgkJCSAgCgkJCV9TZW5kTm90aWZpY2F0aW9uKFxARlJfTm90aWZ5TWFpbF8yLCRGUl9Ob3RpZnlQZXJjXzIsJFRJRCwnRmlyc3QgUmVzcG9uc2UgLUxldmVsMicsJHRpY2tldFNMQUlELCRSb2xlTmFtZSwkVGt0T3duZXIsJFRrdE51bWJlciwkcGVyY2VudEVsYXBzZWRGUiwnRlJOb3RpZnkyJywkVGt0UXVldWVJRCk7ICAKCQkgICAgICAgCgkJICAgIH0gIAoJCX0KCQkKCQkjI0ZSMwoJICAgIAlpZigkRlJfTm90aWZ5VG9fMyAmJiAkRlJfTm90aWZ5UGVyY18zKSB7CgkJICAgIG15ICRSb2xlTmFtZTsKCQkgICAgaWYoJEZSX05vdGlmeVRvXzMgPT0gLTk5KQoJCSAgICB7CgkJCSRSb2xlTmFtZSA9ICdvd25lcic7CgkJICAgIH0KCQkgICAgZWxzZSB7CgkJCSRSb2xlTmFtZSA9ICRSb2xlc3skRlJfTm90aWZ5VG9fM307CgkJICAgIH0KCQkgICAgaWYoKCRGUl9Ob3RpZnlQZXJjXzMgPD0gJHBlcmNlbnRFbGFwc2VkRlIpJiYoJHBlcmNlbnRFbGFwc2VkRlIgPj0gMCkpewoJCQkgIAoJCQkgIAoJCQlfU2VuZE5vdGlmaWNhdGlvbihcQEZSX05vdGlmeU1haWxfMywkRlJfTm90aWZ5UGVyY18zLCRUSUQsJ0ZpcnN0IFJlc3BvbnNlIC1MZXZlbDMnLCR0aWNrZXRTTEFJRCwkUm9sZU5hbWUsJFRrdE93bmVyLCRUa3ROdW1iZXIsJHBlcmNlbnRFbGFwc2VkRlIsJ0ZSTm90aWZ5MycsJFRrdFF1ZXVlSUQpOyAgCgkJICAgICAgIAoJCSAgICB9ICAKCQl9CgkJCgkJIyMjIyMjIyMjIwoJCSNVVAoJCSMjIyMjIyMjIyMKCQkKCQlteSAkVXBkYXRlVGltZSA9ICRTTEFEYXRhe1VwZGF0ZVRpbWV9OyAjaW4gbWludXRlcwoJCW15ICRVcGRhdGVSZW1haW5pbmcgPSAkVGlja2V0e1VwZGF0ZVRpbWV9OyAjaW4gc2Vjb25kcwoJCW15ICRwZXJjZW50RWxhcHNlZFVUOwoJCWlmKCRVcGRhdGVSZW1haW5pbmcgJiYgJFVwZGF0ZVRpbWUpIHsKCQkgICAgI0NhbGN1bGF0ZSBwZXJjZW50IHRpbWUgZWxhcHNlZAoJCSAgICAkcGVyY2VudEVsYXBzZWRVVCA9IDEwMCAtICgoKCRVcGRhdGVSZW1haW5pbmcpLygkVXBkYXRlVGltZSAqIDYwKSkqMTAwKTsKCQkgICAgCgkJICAgIAoJCX0KCQllbHNlIHsKCQkgICAgJHBlcmNlbnRFbGFwc2VkVVQgPSAtMTsKCQl9IAoJCQoJCSMjVVQxCgkJCgkJaWYoJFVUX05vdGlmeVRvXzEgJiYgJFVUX05vdGlmeVBlcmNfMSkgewoJCSAgICBteSAkUm9sZU5hbWU7CgkJICAgIGlmKCRVVF9Ob3RpZnlUb18xID09IC05OSkKCQkgICAgewoJCQkkUm9sZU5hbWUgPSAnb3duZXInOwoJCSAgICB9CgkJICAgIGVsc2UKCQkgICAgewoJCQkkUm9sZU5hbWUgPSAkUm9sZXN7JFVUX05vdGlmeVRvXzF9OwoJCSAgICB9CgkJICAgIGlmKCgkVVRfTm90aWZ5UGVyY18xIDw9ICRwZXJjZW50RWxhcHNlZFVUKSYmKCRwZXJjZW50RWxhcHNlZFVUID49IDApKXsKCQkJX1NlbmROb3RpZmljYXRpb24oXEBVVF9Ob3RpZnlNYWlsXzEsJFVUX05vdGlmeVBlcmNfMSwkVElELCdVcGRhdGUgVGltZSAtTGV2ZWwxJywkdGlja2V0U0xBSUQsJFJvbGVOYW1lLCRUa3RPd25lciwkVGt0TnVtYmVyLCRwZXJjZW50RWxhcHNlZFVULCdVVE5vdGlmeTEnLCRUa3RRdWV1ZUlEKTsgIAoJCSAgICAgICAKCQkgICAgfSAgCgkJfQoJCQoJCSMjVVQyCgkgICAgCWlmKCRVVF9Ob3RpZnlUb18yICYmICRVVF9Ob3RpZnlQZXJjXzIpIHsKCQkgICAgbXkgJFJvbGVOYW1lOwoJCSAgICBpZigkVVRfTm90aWZ5VG9fMiA9PSAtOTkpIHsKCQkJJFJvbGVOYW1lID0gJ293bmVyJzsKCQkgICAgfQoJCSAgICBlbHNlIHsKCQkJJFJvbGVOYW1lID0gJFJvbGVzeyRVVF9Ob3RpZnlUb18yfTsKCQkgICAgfQoJCSAgICBpZigoJFVUX05vdGlmeVBlcmNfMiA8PSAkcGVyY2VudEVsYXBzZWRVVCkmJigkcGVyY2VudEVsYXBzZWRVVCA+PSAwKSl7CgkJICAgICAgICAgIAoJCSAgICAgICAgX1NlbmROb3RpZmljYXRpb24oXEBVVF9Ob3RpZnlNYWlsXzIsJFVUX05vdGlmeVBlcmNfMiwkVElELCdVcGRhdGUgVGltZSAtTGV2ZWwyJywkdGlja2V0U0xBSUQsJFJvbGVOYW1lLCRUa3RPd25lciwkVGt0TnVtYmVyLCRwZXJjZW50RWxhcHNlZFVULCdVVE5vdGlmeTInLCRUa3RRdWV1ZUlEKTsgIAoJCSAgICAgICAKCQkgICAgfSAgCgkJfQoJCQoJCSMjVVQzCgkgICAgCWlmKCRVVF9Ob3RpZnlUb18zICYmICRVVF9Ob3RpZnlQZXJjXzMpIHsKCQkgICAgbXkgJFJvbGVOYW1lOwoJCSAgICBpZigkVVRfTm90aWZ5VG9fMyA9PSAtOTkpIHsKCQkJJFJvbGVOYW1lID0gJ293bmVyJzsKCQkgICAgfQoJCSAgICBlbHNlIHsKCQkJJFJvbGVOYW1lID0gJFJvbGVzeyRVVF9Ob3RpZnlUb18zfTsKCQkgICAgfQoJCSAgICBpZigoJFVUX05vdGlmeVBlcmNfMyA8PSAkcGVyY2VudEVsYXBzZWRVVCkmJigkcGVyY2VudEVsYXBzZWRVVCA+PSAwKSl7CgkJCQoJCQlfU2VuZE5vdGlmaWNhdGlvbihcQFVUX05vdGlmeU1haWxfMywkVVRfTm90aWZ5UGVyY18zLCRUSUQsJ1VwZGF0ZSBUaW1lIC1MZXZlbDMnLCR0aWNrZXRTTEFJRCwkUm9sZU5hbWUsJFRrdE93bmVyLCRUa3ROdW1iZXIsJHBlcmNlbnRFbGFwc2VkVVQsJ1VUTm90aWZ5MycsJFRrdFF1ZXVlSUQpOyAgCgkJICAgICAgIAoJCSAgICB9ICAKCQl9CgkJCgkJIyMjIyMjIyMjIwoJCSNTVAoJCSMjIyMjIyMjIyMKCQkKCQkgICAgbXkgJFNvbHV0aW9uVGltZSA9ICRTTEFEYXRhe1NvbHV0aW9uVGltZX07ICNpbiBtaW51dGVzCgkJICAgIG15ICRTb2x1dGlvblJlbWFpbmluZyA9ICRUaWNrZXR7U29sdXRpb25UaW1lfTsgI2luIHNlY29uZHMKCQkgICAgbXkgJHBlcmNlbnRFbGFwc2VkU1Q7CgkJaWYoJFNvbHV0aW9uUmVtYWluaW5nICYmICRTb2x1dGlvblRpbWUpewoJCSAgICAjQ2FsY3VsYXRlIHBlcmNlbnQgdGltZSBlbGFwc2VkCgkJICAgICRwZXJjZW50RWxhcHNlZFNUID0gMTAwIC0gKCgoJFNvbHV0aW9uUmVtYWluaW5nKS8oJFNvbHV0aW9uVGltZSAqIDYwKSkqMTAwKTsKCQkgICAgCgkJCgkJfQoJCWVsc2UgewoJCSAgICAkcGVyY2VudEVsYXBzZWRTVCA9IC0xOwoJCX0gCgkJCgkJIyNTVDEKCQlpZigkU1RfTm90aWZ5VG9fMSAmJiAkU1RfTm90aWZ5UGVyY18xKSB7CgkJICAgIG15ICRSb2xlTmFtZTsKCQkgICAgaWYoJFNUX05vdGlmeVRvXzEgPT0gLTk5KQoJCSAgICB7CgkJCSRSb2xlTmFtZSA9ICdvd25lcic7CgkJICAgIH0KCQkgICAgZWxzZSB7CgkJCSRSb2xlTmFtZSA9ICRSb2xlc3skU1RfTm90aWZ5VG9fMX07CgkJICAgIH0KCQkgICAgaWYoKCRTVF9Ob3RpZnlQZXJjXzEgPD0gJHBlcmNlbnRFbGFwc2VkU1QpJiYoJHBlcmNlbnRFbGFwc2VkU1QgPj0gMCkpewoJCQlfU2VuZE5vdGlmaWNhdGlvbihcQFNUX05vdGlmeU1haWxfMSwkU1RfTm90aWZ5UGVyY18xLCRUSUQsJ1NvbHV0aW9uIFRpbWUgLUxldmVsMScsJHRpY2tldFNMQUlELCRSb2xlTmFtZSwkVGt0T3duZXIsJFRrdE51bWJlciwkcGVyY2VudEVsYXBzZWRTVCwnU1ROb3RpZnkxJywkVGt0UXVldWVJRCk7ICAKCQkgICAgICAgCgkJICAgIH0gIAoJCX0KCQkKCQkjI1NUMgoJICAgIAlpZigkU1RfTm90aWZ5VG9fMiAmJiAkU1RfTm90aWZ5UGVyY18yKSB7CgkJICAgIG15ICRSb2xlTmFtZTsKCQkgICAgaWYoJFNUX05vdGlmeVRvXzIgPT0gLTk5KSB7CgkJCSRSb2xlTmFtZSA9ICdvd25lcic7CgkJICAgIH0KCQkgICAgZWxzZSB7CgkJCSRSb2xlTmFtZSA9ICRSb2xlc3skU1RfTm90aWZ5VG9fMn07CgkJICAgIH0KCQkgICAgaWYoKCRTVF9Ob3RpZnlQZXJjXzIgPD0gJHBlcmNlbnRFbGFwc2VkU1QpJiYoJHBlcmNlbnRFbGFwc2VkU1QgPj0gMCkpewoJCQkgIAoJCQlfU2VuZE5vdGlmaWNhdGlvbihcQFNUX05vdGlmeU1haWxfMiwkU1RfTm90aWZ5UGVyY18yLCRUSUQsJ1NvbHV0aW9uIFRpbWUgLUxldmVsMicsJHRpY2tldFNMQUlELCRSb2xlTmFtZSwkVGt0T3duZXIsJFRrdE51bWJlciwkcGVyY2VudEVsYXBzZWRTVCwnU1ROb3RpZnkyJywkVGt0UXVldWVJRCk7ICAKCQkgICAgICAgCgkJICAgIH0gIAoJCX0KCQkKCQkjI1NUMwoJICAgIAlpZigkU1RfTm90aWZ5VG9fMyAmJiAkU1RfTm90aWZ5UGVyY18zKSB7CgkJICAgIG15ICRSb2xlTmFtZTsKCQkgICAgaWYoJFNUX05vdGlmeVRvXzMgPT0gLTk5KSB7CgkJCSRSb2xlTmFtZSA9ICdvd25lcic7CgkJICAgIH0KCQkgICAgZWxzZSB7CgkJCSRSb2xlTmFtZSA9ICRSb2xlc3skU1RfTm90aWZ5VG9fM307CgkJICAgIH0KCQkgICAgaWYoKCRTVF9Ob3RpZnlQZXJjXzMgPD0gJHBlcmNlbnRFbGFwc2VkU1QpJiYoJHBlcmNlbnRFbGFwc2VkU1QgPj0gMCkpewoJCQkgCgkJCSAKCQkJX1NlbmROb3RpZmljYXRpb24oXEBTVF9Ob3RpZnlNYWlsXzMsJFNUX05vdGlmeVBlcmNfMywkVElELCdTb2x1dGlvbiBUaW1lIC1MZXZlbDMnLCR0aWNrZXRTTEFJRCwkUm9sZU5hbWUsJFRrdE93bmVyLCRUa3ROdW1iZXIsJHBlcmNlbnRFbGFwc2VkU1QsJ1NUTm90aWZ5MycsJFRrdFF1ZXVlSUQpOyAgCgkJICAgICAgIAoJCSAgICB9ICAKCQl9CgkJCgkgICAgCQoJCQoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwkKCSAgICAKCSAgICAKCSAgICAkRlJfTm90aWZ5VG9fMSA9ICcnOwoJICAgICRGUl9Ob3RpZnlQZXJjXzEgPSAnJzsKCSAgICAkRlJfTm90aWZ5VG9fMiA9ICcnOwoJICAgICRGUl9Ob3RpZnlQZXJjXzIgPSAnJzsKCSAgICAkRlJfTm90aWZ5VG9fMyA9ICcnOwoJICAgICRGUl9Ob3RpZnlQZXJjXzMgPSAnJzsKCSAgICAkVVRfTm90aWZ5VG9fMSA9ICcnOwoJICAgICRVVF9Ob3RpZnlQZXJjXzEgPSAnJzsKCSAgICAkVVRfTm90aWZ5VG9fMiA9ICcnOwoJICAgICRVVF9Ob3RpZnlQZXJjXzIgPSAnJzsKCSAgICAkVVRfTm90aWZ5VG9fMyA9ICcnOwoJICAgICRVVF9Ob3RpZnlQZXJjXzMgPSAnJzsKCSAgICAkU1RfTm90aWZ5VG9fMSA9ICcnOwoJICAgICRTVF9Ob3RpZnlQZXJjXzEgPSAnJzsKCSAgICAkU1RfTm90aWZ5VG9fMiA9ICcnOwoJICAgICRTVF9Ob3RpZnlQZXJjXzIgPSAnJzsKCSAgICAkU1RfTm90aWZ5VG9fMyA9ICcnOwoJICAgICRTVF9Ob3RpZnlQZXJjXzMgPSAnJzsKCSAgICAKCSAgICAKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkKCSAgICBzdWIgX1VuaXF1ZXsKCQkKCQkjKEB7JGRlc3RBcnJheX0pCgkJbXkgJFRlbXBhcnJheSA9ICRfWzBdOwoJCW15IEBVbmlxdWVBcnJheSA9ICgpOwoJCW15ICVUZW1wSGFzaCA9ICgpOwoJCQoJCWZvcmVhY2ggbXkgJEtleSAoQHskVGVtcGFycmF5fSkgewoJCSAgICBpZiAoJEtleSkgewoJCQkkVGVtcEhhc2h7JEtleX0gPSAxOwoJCSAgICB9CQoJCSAgICAKCQl9CgkJCgkJQFVuaXF1ZUFycmF5ID0ga2V5cyAlVGVtcEhhc2g7CgkJCgkJcmV0dXJuIChAVW5pcXVlQXJyYXkpOwoJCQoJICAgIH0KCQoJICAgIHN1YiBfR2V0dXNyaWR7CgkgICAgICAgIAoJICAgICAgICBteSAkTm90aWZ5VG8gPSRfWzBdOwoJICAgICAgICBteSBATm90aWZ5TWFpbDsKCSAgICAgICAgaWYoJE5vdGlmeVRvKSB7CgkJICAgIGlmKCROb3RpZnlUbyA9PSAtOTkpIHsKCQkJcHVzaCAoQE5vdGlmeU1haWwsJFRpY2tldHtPd25lcklEfSk7CgkJCXJldHVybiAoQE5vdGlmeU1haWwpOwoJCSAgICB9CgkJICAgIGVsc2UgewoJCSAgICAgICAgZm9yZWFjaCBteSAkdWlkIChrZXlzICVSb2xlaWQpCgkJICAgICAgICB7CgkJCSAgICAKCQkJICAgIG15ICRUZW1wQXJyYXlBZGRyZXNzID0gXCRSb2xlaWR7JHVpZH07CgkJCSAgICAKCQkJICAgIGZvcmVhY2ggbXkgJHJpZCAoQCQkVGVtcEFycmF5QWRkcmVzcykgewoJCQkgICAgICAgaWYoJE5vdGlmeVRvID09ICRyaWQpIHsKCQkJCSAgcHVzaChATm90aWZ5TWFpbCwkdWlkKTsKCQkJCX0KCQkJICAgIH0KCQkJfQoJCQlyZXR1cm4gKEBOb3RpZnlNYWlsKTsgIAoJCSAgICB9CgkJfSAKCSAgICB9CQoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjICAKCSAgICAKCX0gIyMgRW5kIG9mIGlmICgkdGlja2V0U0xBSUQpCgkKICAgIH0gICMjIEVuZCBvZiBmb3JlYWNoIG15ICRUSUQgKEBUaWNrZXRJRHMpCgoKCnN1YiBfU2VuZE5vdGlmaWNhdGlvbnsKCQoJIyNfU2VuZE5vdGlmaWNhdGlvbihcQEZSX05vdGlmeU1haWxfMSwkRlJfTm90aWZ5UGVyY18zLCRUSUQsJ0ZpcnN0IFJlc3BvbnNlIC1MZXZlbDMnLCR0aWNrZXRTTEFJRCwkUm9sZU5hbWUsJFRrdE93bmVyLCRUa3ROdW1iZXIsJHBlcmNlbnRFbGFwc2VkRlIsICdGUk5vdGlmeTMnLCRUa3RRdWV1ZUlEKTsgIAoJCgkjIGRlY2xlYXIgYW5kIGluaXRpYWxpc2VkIHZhcmlhYmxlCgkKCW15ICRkZXN0QXJyYXkgPSAkX1swXTsKCW15ICRQZXJjZW50ICAgPSAkX1sxXSB8fCAnJzsKCW15ICRUaWNrZXRJRCAgPSAkX1syXSB8fCAnJzsKCW15ICRFc2NUeXBlICAgPSAkX1szXSB8fCAnJzsKCW15ICRTTEFJRCAgICAgPSAkX1s0XSB8fCAnJzsKCW15ICRsZXZlbCAgICAgPQkkX1s1XSB8fCAnJzsKCW15ICRUa3RPd25lciAgPSAkX1s2XSB8fCAnJzsKCW15ICRUa3ROdW1iZXIgPSAkX1s3XSB8fCAnJzsKCW15ICRBY3R1YWxQZXJjID0gJF9bOF0gfHwgJyc7CglteSAkVUtleSAgICAgICA9ICRfWzldIHx8ICcnOwoJbXkgJFRrdFF1ZXVlSUQgPSAkX1sxMF0gfHwgJyc7CgkKCQoJbXkgJVRpY2tldE93bmVyRGF0YSA9ICRDb21tb25PYmplY3R7VXNlck9iamVjdH0tPkdldFVzZXJEYXRhKAogICAgICAgICAgICAgICBVc2VySUQgPT4gJFRrdE93bmVyLAogICAgICAgICAgICAgICBWYWxpZCAgPT4gMSwKICAgICAgICApOwoJCgkjW1RpY2tldCMyMDEyMTAxMTEwMDAwMDQ0XSBUaWNrZXQgRXNjYWxhdGlvbiBCZWZvcmUhICgxMCUgb2YgRmlyc3QgUmVzcG9uc2UgLSBMZXZlbDEpCgkKCW15ICRVbmlxdWVOYW1lID0gJFRpY2tldElEIC4gIi0iIC4gJFNMQUlEIC4gICItIiAuICRVS2V5IC4gIi0iIC4gJGxldmVsOwoJbXkgJFN1YmplY3QgPSAiW1RpY2tldCMiIC4gJFRrdE51bWJlciAuICJdIFRpY2tldCBFc2NhbGF0aW9uIEJlZm9yZSEgKCIgLiAkUGVyY2VudCAuICIgJSBvZiAiIC4gJEVzY1R5cGUgLiAiKSI7CgkjbXkgJEJvZHkgPSAiVGlja2V0ICIgLiAkVGt0TnVtYmVyIC4gIiBoYXMgYnJlYWNoZWQgIiAuICRQZXJjZW50IC4gIiAlIG9mICIgLiAkRXNjVHlwZSAuICJcbiI7CgkjJEJvZHkgPSAkQm9keSAuICJFbGxhcHNlZCBQZXJjZW50YWdlIGlzIDogIiAuICRBY3R1YWxQZXJjIC4gIlxuIjsKCSMkQm9keSA9ICRCb2R5IC4gIlRpY2tldCBPd25lciBJRCA6ICIgLiAkVGlja2V0T3duZXJEYXRhe1VzZXJFbWFpbH0gLiAiXG4iOwoJIyRCb2R5ID0gJEJvZHkgLiAiU0xBIDogIiAuICRTTEFJRCAuICJcbiI7CgkjJEJvZHkgPSAkQm9keSAuICJcbiBcbiI7CgkjJEJvZHkgPSAkQm9keSAuICJSZWdhcmRzIFxuIjsKCSMkQm9keSA9ICRCb2R5IC4gIk9UUlMgQWRtaW4gXG4iOwoJIyRCb2R5ID0gJEJvZHkgLiAiXG5cblBsZWFzZSBOb3RlOiIgLiAiXG4iIC4gIkZSOiBGaXJzdCBSZXNwb25zZVxuIiAuICJVVDogVXBkYXRlIFRpbWVcbiIuICJTVDogU29sdXRpb24gVGltZVxuIjsKCW15ICRNc2cgPSAkUGVyY2VudCAuICIgJSBvZiAiIC4gJEVzY1R5cGUgOwoJCgkKCW15IEBMaW5lcyA9ICRDb21tb25PYmplY3R7VGlja2V0T2JqZWN0fS0+SGlzdG9yeUdldCgKICAgIAkJVGlja2V0SUQgPT4gJFRpY2tldElELAogICAJCVVzZXJJRCAgID0+IDEsCgkpOwogICAgICAgIG15ICRTZW50ID0gMTsKCgkKCglmb3IgbXkgJExpbmUgKEBMaW5lcykgCgl7CgkJI2lmICgkTGluZS0+e05hbWV9ID1+IC9cJVwlJFVuaXF1ZU5hbWVcJVwlLyApCgkgICAgICAgaWYgKCRMaW5lLT57TmFtZX0gZXEgJFVuaXF1ZU5hbWUpCgkJewoJCSAgICAkU2VudCA9IDA7CgkJfQoJfQkgCiAgICAgICAgCgkKCSMkU2VudCA9IDE7CgkKICAgICAgICBpZigkU2VudCkKICAgICAgICB7CgkJbXkgJFF1ZXVlID0gJENvbW1vbk9iamVjdHtRdWV1ZU9iamVjdH0tPlF1ZXVlTG9va3VwKCBRdWV1ZUlEID0+ICRUa3RRdWV1ZUlEICk7CgkJCgkJJENvbW1vbk9iamVjdHtUaWNrZXRPYmplY3R9LT5IaXN0b3J5QWRkKAoJCQkJVGlja2V0SUQgICAgID0+ICRUaWNrZXRJRCwKCQkJCUNyZWF0ZVVzZXJJRCA9PiAxLAoJCQkJSGlzdG9yeVR5cGUgID0+ICdNaXNjJywKCQkJCU5hbWUgICAgICAgICA9PiAkVW5pcXVlTmFtZSwKCQkJKTsKCQkKICAgICAgICAJZm9yZWFjaCBteSAkUmVjaXBpZW50IChAeyRkZXN0QXJyYXl9KSB7CgkJCQoJCQkKCQkJbXkgJFJlc3VsdCA9ICRDb21tb25PYmplY3R7VGlja2V0T2JqZWN0fS0+U2VuZEFnZW50Tm90aWZpY2F0aW9uKAoJCQkgICAgVGlja2V0SUQgICAgICAgICAgICAgID0+ICRUaWNrZXRJRCwKCQkJICAgIEN1c3RvbWVyTWVzc2FnZVBhcmFtcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRdWV1ZSA9PiAkUXVldWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCb2R5ID0+ICRNc2cgfHwgJycsCgkgCSAgICAgICAgICAgIH0sCgkJCSAgICBUeXBlICAgICAgICAgICAgICAgICAgPT4gJ0VzY2FsYXRpb25NYXRyaXgnLAoJCQkgICAgUmVjaXBpZW50SUQgICAgICAgICAgID0+ICRSZWNpcGllbnQsCgkJCSAgICBVc2VySUQgICAgICAgICAgICAgICAgPT4gMSwKCQkJKTsKCQkgICAgICAgCgkJCQoJCQkjaWYgKCRSZXN1bHQpIHsKCQkJIyAgICBvcGVuKEZGLCI+Pi90bXAvdGljay50eHQiKTsKCQkJIyAgICBwcmludCBGRiAiXG4gc2VudCAtPiAkcmVjaXBpZW50LCAkVXNlckRhdGF7VXNlckVtYWlsfSwgJFN1YmplY3QgLS0tLSBcbiI7CgkJCSMgICAgY2xvc2UoRkYpOwoJCQkjICAgIHByaW50ICJFbWFpbCBzZW50ISAtPiAgJHJlY2lwaWVudCwgJFVzZXJEYXRhe1VzZXJFbWFpbH0sICRTdWJqZWN0IC0tLS1cbiI7CgkJCSN9CgkJCSNlbHNlIHsKCQkJIyAgICBwcmludCAiRW1haWwgbm90IHNlbnQhXG4iOwoJCQkjfQoJCX0KCX0KCSRTZW50ID0gMTsKCQp9Cg==</File>
        <File Location="var/packagesetup/MultilevelEscalation.pm" Permission="644" Encode="Base64">IyAtLQojIE11bHRpbGV2ZWxFc2NhbGF0aW9uLnBtIC0gY29kZSB0byBleGNlY3V0ZSBkdXJpbmcgcGFja2FnZSBpbnN0YWxsYXRpb24KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMSBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvCiMgLS0gCiMgJElkOiBNdWx0aWxldmVsRXNjYWxhdGlvbi5wbSx2IDEuMiAyMDEzLzAyLzA0IDE0OjM4OjU3IGVuIEV4cCAkCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIHZhcjo6cGFja2FnZXNldHVwOjpNdWx0aWxldmVsRXNjYWxhdGlvbjsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSB2YXJzIHF3KEBJU0EgJFZFUlNJT04pOwokVkVSU0lPTiA9IHF3KCRSZXZpc2lvbjogMS4yICQpIFsxXTsKCj1oZWFkMSBOQU1FCgpNdWx0aWxldmVsRXNjYWxhdGlvbi5wbSAtIGNvZGUgdG8gZXhjZWN1dGUgZHVyaW5nIHBhY2thZ2UgaW5zdGFsbGF0aW9uCgo9aGVhZDEgU1lOT1BTSVMKCkFsbCBmdW5jdGlvbnMKCj1oZWFkMSBQVUJMSUMgSU5URVJGQUNFCgo9b3ZlciA0Cgo9Y3V0Cgo9aXRlbSBuZXcoKQoKY3JlYXRlIGFuIG9iamVjdAoKICAgIHVzZSBLZXJuZWw6OkNvbmZpZzsKICAgIHVzZSBLZXJuZWw6OlN5c3RlbTo6RW5jb2RlOwogICAgdXNlIEtlcm5lbDo6U3lzdGVtOjpMb2c7CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06Ok1haW47CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06OkRCOwogICAgdXNlIHZhcjo6cGFja2FnZXNldHVwOjpNdWx0aWxldmVsRXNjYWxhdGlvbjsKCiAgICBteSAkQ29uZmlnT2JqZWN0ID0gS2VybmVsOjpDb25maWctPm5ldygpOwogICAgbXkgJEVuY29kZU9iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpFbmNvZGUtPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICk7CiAgICBteSAkTG9nT2JqZWN0ICAgID0gS2VybmVsOjpTeXN0ZW06OkxvZy0+bmV3KAogICAgICAgIENvbmZpZ09iamVjdCA9PiAkQ29uZmlnT2JqZWN0LAogICAgICAgIEVuY29kZU9iamVjdCA9PiAkRW5jb2RlT2JqZWN0LAogICAgKTsKICAgIG15ICRNYWluT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06Ok1haW4tPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICAgICBFbmNvZGVPYmplY3QgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBMb2dPYmplY3QgICAgPT4gJExvZ09iamVjdCwKICAgICk7CiAgIAogICAgbXkgJERCT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OkRCLT5uZXcoCiAgICAgICAgQ29uZmlnT2JqZWN0ID0+ICRDb25maWdPYmplY3QsCiAgICAgICAgRW5jb2RlT2JqZWN0ID0+ICRFbmNvZGVPYmplY3QsCiAgICAgICAgTG9nT2JqZWN0ICAgID0+ICRMb2dPYmplY3QsCiAgICAgICAgTWFpbk9iamVjdCAgID0+ICRNYWluT2JqZWN0LAogICAgKTsKICAgIAogICAgbXkgJENvZGVPYmplY3QgPSB2YXI6OnBhY2thZ2VzZXR1cDo6TXVsdGlsZXZlbEVzY2FsYXRpb24tPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICAgICBFbmNvZGVPYmplY3QgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBMb2dPYmplY3QgICAgPT4gJExvZ09iamVjdCwKICAgICAgICBNYWluT2JqZWN0ICAgPT4gJE1haW5PYmplY3QsCiAgICAgICAgREJPYmplY3QgICAgID0+ICREQk9iamVjdCwKICAgICk7Cgo9Y3V0CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHt9OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgICMgY2hlY2sgbmVlZGVkIG9iamVjdHMKICAgIGZvciBteSAkT2JqZWN0ICgKICAgICAgICBxdyhDb25maWdPYmplY3QgTG9nT2JqZWN0IEVuY29kZU9iamVjdCBNYWluT2JqZWN0IERCT2JqZWN0KQogICAgICAgICkKICAgIHsKICAgICAgICAkU2VsZi0+eyRPYmplY3R9ID0gJFBhcmFteyRPYmplY3R9IHx8IGRpZSAiR290IG5vICRPYmplY3QhIjsKICAgIH0KCiAgICByZXR1cm4gJFNlbGY7Cn0KCj1pdGVtIENvZGVJbnN0YWxsKCkKCnJ1biB0aGUgY29kZSBpbnN0YWxsIHBhcnQKCiAgICBteSAkUmVzdWx0ID0gJENvZGVPYmplY3QtPkNvZGVJbnN0YWxsKCk7Cgo9Y3V0CgpzdWIgQ29kZUluc3RhbGwgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICByZXR1cm4gMTsKfQoKPWl0ZW0gQ29kZVJlaW5zdGFsbCgpCgpydW4gdGhlIGNvZGUgcmVpbnN0YWxsIHBhcnQKCiAgICBteSAkUmVzdWx0ID0gJENvZGVPYmplY3QtPkNvZGVSZWluc3RhbGwoKTsKCj1jdXQKCnN1YiBDb2RlUmVpbnN0YWxsIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDE7Cn0KCj1pdGVtIENvZGVVcGdyYWRlKCkKCnJ1biB0aGUgY29kZSB1cGdyYWRlIHBhcnQKCiAgICBteSAkUmVzdWx0ID0gJENvZGVPYmplY3QtPkNvZGVVcGdyYWRlKCk7Cgo9Y3V0CgpzdWIgQ29kZVVwZ3JhZGUgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICByZXR1cm4gMTsKfQoKPWl0ZW0gQ29kZVVuaW5zdGFsbCgpCgpydW4gdGhlIGNvZGUgdW5pbnN0YWxsIHBhcnQKCiAgICBteSAkUmVzdWx0ID0gJENvZGVPYmplY3QtPkNvZGVVbmluc3RhbGwoKTsKCj1jdXQKCnN1YiBDb2RlVW5pbnN0YWxsIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgcmV0dXJuIDE7Cn0KCjE7Cgo9YmFjawoKPWhlYWQxIFRFUk1TIEFORCBDT05ESVRJT05TCgpUaGlzIFNvZnR3YXJlIGlzIHBhcnQgb2YgdGhlIE9UUlMgcHJvamVjdCAoaHR0cDovL290cnMub3JnLykuCgpUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQp0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChHUEwpLiBJZiB5b3UKZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwtMi4wLnR4dC4KCj1jdXQKCj1oZWFkMSBWRVJTSU9OCiAKJFJldmlzaW9uOiAxLjIgJCAkRGF0ZTogMjAxMy8wMi8wNCAxNDozODo1NyAkCgo9Y3V0Cg==</File>
    </Filelist>
    <DatabaseInstall Type="post">
        <TableCreate Type="post" Name="escalation">
            <Column Name="sla_id" Required="true" Type="INTEGER"></Column>
            <Column Name="notify_type" Required="true" Size="3" Type="VARCHAR"></Column>
            <Column Name="level" Required="true" Type="INTEGER"></Column>
            <Column Name="notify_to" Size="10" Type="VARCHAR"></Column>
            <Column Name="notify_perc" Type="INTEGER"></Column>
            <Column Name="valid_id" Required="true" Type="SMALLINT"></Column>
            <ForeignKey ForeignTable="sla">
                <Reference Foreign="id" Local="sla_id">
                </Reference>
            </ForeignKey>
        </TableCreate>
    </DatabaseInstall>
    <DatabaseUninstall Type="pre">
        <TableDrop Type="pre" Name="escalation">
        </TableDrop>
    </DatabaseUninstall>
</otrs_package>